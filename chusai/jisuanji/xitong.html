<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>操作系统基础 - CSP初赛考点</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-darkdark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6', // 主色调：蓝色
                        os: '#10B981', // 操作系统主题色：绿色
                        process: '#F59E0B', // 进程管理：橙色
                        memory: '#8B5CF6', // 内存管理：紫色
                        file: '#EC4899', // 文件系统：粉色
                        darkbg: '#F8FAFC',
                        cardbg: '#FFFFFF',
                    },
                    fontFamily: {
                        mono: ['Consolas', 'Monaco', 'Courier New', 'monospace'],
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .hover-scale {
                @apply transition-transform duration-300 hover:scale-[1.02];
            }
            .topic-card {
                @apply bg-cardbg rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow duration-300 hover-scale mb-8;
            }
            .os-bg {
                @apply bg-gradient-to-r from-os/5 to-os/10;
            }
            .process-bg {
                @apply bg-gradient-to-r from-process/5 to-process/10;
            }
            .memory-bg {
                @apply bg-gradient-to-r from-memory/5 to-memory/10;
            }
            .file-bg {
                @apply bg-gradient-to-r from-file/5 to-file/10;
            }
            .code-block {
                @apply bg-gray-800 text-gray-100 rounded-lg p-4 overflow-x-auto my-4 text-sm font-mono;
            }
            .tab-content {
                @apply hidden;
            }
            .tab-content.active {
                @apply block;
            }
            .tab-button {
                @apply px-4 py-2 rounded-md transition-all duration-200;
            }
            .tab-button.active {
                @apply bg-primary text-white;
            }
            .progress-bar {
                @apply h-2 rounded-full transition-all duration-500;
            }
            .process-block {
                @apply h-10 rounded-md flex items-center justify-center text-white text-sm mb-2 cursor-pointer transition-all duration-300;
            }
            .memory-block {
                @apply border-2 rounded-sm flex items-center justify-center text-xs p-1 transition-all duration-300;
            }
            .file-node {
                @apply border rounded p-2 mb-2 transition-all duration-300;
            }
        }
    </style>
</head>
<body class="bg-darkbg text-gray-800 font-sans min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <i class="fa fa-desktop text-primary text-3xl"></i>
                <h1 class="text-2xl font-bold text-primary tracking-tight">CSP初赛知识点</h1>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#" class="text-gray-700 hover:text-primary transition-colors duration-200">首页</a>
                <a href="#" class="text-gray-700 hover:text-primary transition-colors duration-200">计算机基础</a>
                <a href="#" class="text-primary font-medium">操作系统</a>
                <a href="#" class="text-gray-700 hover:text-primary transition-colors duration-200">数据结构</a>
                <a href="#" class="text-gray-700 hover:text-primary transition-colors duration-200">算法</a>
            </div>
            <div class="md:hidden">
                <button class="text-gray-700">
                    <i class="fa fa-bars text-xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 面包屑导航 -->
    <div class="bg-white border-b border-gray-200 py-2">
        <div class="container mx-auto px-4">
            <nav class="flex text-sm" aria-label="Breadcrumb">
                <ol class="inline-flex items-center space-x-1 md:space-x-3">
                    <li class="inline-flex items-center">
                        <a href="#" class="text-gray-600 hover:text-primary">
                            <i class="fa fa-home mr-1"></i>首页
                        </a>
                    </li>
                    <li>
                        <div class="flex items-center">
                            <i class="fa fa-angle-right mx-2 text-gray-400"></i>
                            <a href="#" class="text-gray-600 hover:text-primary">计算机基础知识</a>
                        </div>
                    </li>
                    <li aria-current="page">
                        <div class="flex items-center">
                            <i class="fa fa-angle-right mx-2 text-gray-400"></i>
                            <span class="text-os font-medium">操作系统</span>
                        </div>
                    </li>
                </ol>
            </nav>
        </div>
    </div>

    <!-- 主要内容区 -->
    <main class="container mx-auto px-4 py-8">
        <!-- 页面标题 -->
        <div class="os-bg rounded-lg p-6 mb-8">
            <div class="flex flex-col md:flex-row md:items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-os mb-2">操作系统基础</h1>
                    <p class="text-gray-700">
                        本文讲解CSP初赛中操作系统的核心考点，包括进程管理、内存管理和文件系统，
                        结合动态演示帮助理解，并提供解题技巧和典型例题。
                    </p>
                </div>
                <div class="mt-4 md:mt-0">
                    <div class="flex space-x-3">
                        <a href="#process" class="bg-os hover:bg-os/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                            <i class="fa fa-tasks mr-2"></i> 进程管理
                        </a>
                        <a href="#memory" class="bg-white border border-os text-os hover:bg-os/5 px-4 py-2 rounded-md transition-all flex items-center">
                            <i class="fa fa-microchip mr-2"></i> 内存管理
                        </a>
                        <a href="#file" class="bg-white border border-os text-os hover:bg-os/5 px-4 py-2 rounded-md transition-all flex items-center">
                            <i class="fa fa-folder mr-2"></i> 文件系统
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- 操作系统概述 -->
        <section class="topic-card">
            <h2 class="text-2xl font-bold text-os mb-6 flex items-center">
                <i class="fa fa-info-circle mr-2"></i> 操作系统概述
            </h2>
            <div class="space-y-4">
                <p class="text-gray-700">
                    操作系统(OS)是管理计算机硬件与软件资源的系统软件，是计算机系统的核心。
                    在CSP初赛中，主要考察以下三个核心模块：
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                    <div class="process-bg p-4 rounded-lg">
                        <h3 class="font-semibold text-process mb-2 flex items-center">
                            <i class="fa fa-tasks mr-2"></i> 进程管理
                        </h3>
                        <p class="text-sm text-gray-700">
                            进程的状态、调度算法、同步与互斥、死锁等基本概念
                        </p>
                    </div>
                    <div class="memory-bg p-4 rounded-lg">
                        <h3 class="font-semibold text-memory mb-2 flex items-center">
                            <i class="fa fa-microchip mr-2"></i> 内存管理
                        </h3>
                        <p class="text-sm text-gray-700">
                            内存分配方式、分页与分段、虚拟内存技术等
                        </p>
                    </div>
                    <div class="file-bg p-4 rounded-lg">
                        <h3 class="font-semibold text-file mb-2 flex items-center">
                            <i class="fa fa-folder mr-2"></i> 文件系统
                        </h3>
                        <p class="text-sm text-gray-700">
                            文件结构、路径、目录树、文件操作等基本概念
                        </p>
                    </div>
                </div>
                <p class="text-gray-700 mt-4">
                    操作系统的主要功能包括：进程管理、内存管理、文件管理、设备管理和用户接口。
                    在信息学奥赛中，重点考察前三项内容。
                </p>
            </div>
        </section>

        <!-- 进程管理 -->
        <section id="process" class="topic-card">
            <h2 class="text-2xl font-bold text-process mb-6 flex items-center">
                <i class="fa fa-tasks mr-2"></i> 进程管理
            </h2>
            
            <div class="space-y-6">
                <!-- 进程基本概念 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">基本概念</h3>
                    <div class="space-y-3">
                        <p class="text-gray-700">
                            <strong>进程</strong>：程序的一次执行过程，是系统进行资源分配和调度的基本单位。
                            进程与程序的区别在于：程序是静态的指令集合，而进程是动态的执行过程。
                        </p>
                        <p class="text-gray-700">
                            <strong>进程状态</strong>：一个进程通常有以下几种状态：
                        </p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 mt-2">
                            <div class="border border-gray-200 rounded-lg p-3 bg-blue-50">
                                <h4 class="font-medium text-blue-700">就绪状态</h4>
                                <p class="text-sm text-gray-600">进程已分配到除CPU外的所有资源，等待调度</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-3 bg-green-50">
                                <h4 class="font-medium text-green-700">运行状态</h4>
                                <p class="text-sm text-gray-600">进程正在CPU上执行</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-3 bg-yellow-50">
                                <h4 class="font-medium text-yellow-700">阻塞状态</h4>
                                <p class="text-sm text-gray-600">进程等待某一事件完成而暂停执行</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-3 bg-gray-50">
                                <h4 class="font-medium text-gray-700">终止状态</h4>
                                <p class="text-sm text-gray-600">进程完成执行或被终止</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 进程调度算法演示 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">进程调度算法演示</h3>
                    <p class="text-gray-700 mb-4">
                        进程调度是操作系统按某种策略或规则选择进程占用CPU运行的过程。CSP常考的调度算法有：
                    </p>
                    
                    <div class="mb-4">
                        <div class="flex flex-wrap gap-2 mb-4">
                            <button class="tab-button active" data-tab="fcfs">先来先服务(FCFS)</button>
                            <button class="tab-button" data-tab="sjf">短作业优先(SJF)</button>
                            <button class="tab-button" data-tab="rr">时间片轮转(RR)</button>
                        </div>
                        
                        <!-- 先来先服务调度 -->
                        <div class="tab-content active" id="fcfs">
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-medium mb-2">算法说明</h4>
                                    <p class="text-sm text-gray-700 mb-3">
                                        先来先服务(FCFS)是最简单的调度算法，按照进程到达的先后顺序进行调度。
                                        优点是公平、实现简单；缺点是不利于短作业，平均周转时间可能较长。
                                    </p>
                                    
                                    <div class="mb-4">
                                        <h4 class="font-medium mb-2">进程信息</h4>
                                        <div class="overflow-x-auto">
                                            <table class="min-w-full text-sm">
                                                <thead>
                                                    <tr class="bg-gray-100">
                                                        <th class="px-3 py-2 text-left">进程名</th>
                                                        <th class="px-3 py-2 text-left">到达时间</th>
                                                        <th class="px-3 py-2 text-left">运行时间</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P1</td>
                                                        <td class="px-3 py-2">0</td>
                                                        <td class="px-3 py-2">3</td>
                                                    </tr>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P2</td>
                                                        <td class="px-3 py-2">1</td>
                                                        <td class="px-3 py-2">2</td>
                                                    </tr>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P3</td>
                                                        <td class="px-3 py-2">2</td>
                                                        <td class="px-3 py-2">1</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    
                                    <div class="flex space-x-2">
                                        <button id="fcfs-run" class="bg-process hover:bg-process/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                                            <i class="fa fa-play mr-2"></i> 运行演示
                                        </button>
                                        <button id="fcfs-reset" class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md transition-all flex items-center">
                                            <i class="fa fa-refresh mr-2"></i> 重置
                                        </button>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-2">调度过程演示</h4>
                                    <div class="bg-white border border-gray-200 rounded-lg p-4 h-64">
                                        <div class="mb-4">
                                            <div class="text-sm text-gray-600 mb-1">CPU执行序列</div>
                                            <div class="flex h-12 border border-gray-200 rounded overflow-hidden">
                                                <div id="fcfs-p1" class="process-block bg-process" style="width: 30%;">P1</div>
                                                <div id="fcfs-p2" class="process-block bg-process" style="width: 20%; opacity: 0.5;">P2</div>
                                                <div id="fcfs-p3" class="process-block bg-process" style="width: 10%; opacity: 0.5;">P3</div>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <div class="text-sm text-gray-600 mb-1">时间轴</div>
                                            <div class="flex justify-between text-xs text-gray-500">
                                                <span>0</span>
                                                <span>1</span>
                                                <span>2</span>
                                                <span>3</span>
                                                <span>4</span>
                                                <span>5</span>
                                                <span>6</span>
                                            </div>
                                        </div>
                                        
                                        <div id="fcfs-result" class="mt-6 text-sm">
                                            <p>等待演示结果...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 短作业优先调度 -->
                        <div class="tab-content" id="sjf">
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-medium mb-2">算法说明</h4>
                                    <p class="text-sm text-gray-700 mb-3">
                                        短作业优先(SJF)调度算法优先选择运行时间最短的进程执行。
                                        优点是可以降低平均周转时间；缺点是可能导致长作业饥饿，且需要预知作业运行时间。
                                    </p>
                                    
                                    <div class="mb-4">
                                        <h4 class="font-medium mb-2">进程信息</h4>
                                        <div class="overflow-x-auto">
                                            <table class="min-w-full text-sm">
                                                <thead>
                                                    <tr class="bg-gray-100">
                                                        <th class="px-3 py-2 text-left">进程名</th>
                                                        <th class="px-3 py-2 text-left">到达时间</th>
                                                        <th class="px-3 py-2 text-left">运行时间</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P1</td>
                                                        <td class="px-3 py-2">0</td>
                                                        <td class="px-3 py-2">3</td>
                                                    </tr>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P2</td>
                                                        <td class="px-3 py-2">1</td>
                                                        <td class="px-3 py-2">2</td>
                                                    </tr>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P3</td>
                                                        <td class="px-3 py-2">2</td>
                                                        <td class="px-3 py-2">1</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    
                                    <div class="flex space-x-2">
                                        <button id="sjf-run" class="bg-process hover:bg-process/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                                            <i class="fa fa-play mr-2"></i> 运行演示
                                        </button>
                                        <button id="sjf-reset" class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md transition-all flex items-center">
                                            <i class="fa fa-refresh mr-2"></i> 重置
                                        </button>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-2">调度过程演示</h4>
                                    <div class="bg-white border border-gray-200 rounded-lg p-4 h-64">
                                        <div class="mb-4">
                                            <div class="text-sm text-gray-600 mb-1">CPU执行序列</div>
                                            <div class="flex h-12 border border-gray-200 rounded overflow-hidden">
                                                <div id="sjf-p1" class="process-block bg-process" style="width: 30%;">P1</div>
                                                <div id="sjf-p3" class="process-block bg-process" style="width: 10%; opacity: 0.5;">P3</div>
                                                <div id="sjf-p2" class="process-block bg-process" style="width: 20%; opacity: 0.5;">P2</div>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <div class="text-sm text-gray-600 mb-1">时间轴</div>
                                            <div class="flex justify-between text-xs text-gray-500">
                                                <span>0</span>
                                                <span>1</span>
                                                <span>2</span>
                                                <span>3</span>
                                                <span>4</span>
                                                <span>5</span>
                                                <span>6</span>
                                            </div>
                                        </div>
                                        
                                        <div id="sjf-result" class="mt-6 text-sm">
                                            <p>等待演示结果...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 时间片轮转调度 -->
                        <div class="tab-content" id="rr">
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-medium mb-2">算法说明</h4>
                                    <p class="text-sm text-gray-700 mb-3">
                                        时间片轮转(RR)调度算法让每个进程轮流获得一个时间片的CPU时间。
                                        当时间片用完时，即使进程未执行完，也必须释放CPU给下一个进程。
                                        优点是公平性好，响应快；缺点是上下文切换开销大。
                                    </p>
                                    
                                    <div class="mb-4">
                                        <h4 class="font-medium mb-2">进程信息</h4>
                                        <div class="overflow-x-auto">
                                            <table class="min-w-full text-sm">
                                                <thead>
                                                    <tr class="bg-gray-100">
                                                        <th class="px-3 py-2 text-left">进程名</th>
                                                        <th class="px-3 py-2 text-left">到达时间</th>
                                                        <th class="px-3 py-2 text-left">运行时间</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P1</td>
                                                        <td class="px-3 py-2">0</td>
                                                        <td class="px-3 py-2">3</td>
                                                    </tr>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P2</td>
                                                        <td class="px-3 py-2">1</td>
                                                        <td class="px-3 py-2">2</td>
                                                    </tr>
                                                    <tr class="border-b border-gray-100">
                                                        <td class="px-3 py-2">P3</td>
                                                        <td class="px-3 py-2">2</td>
                                                        <td class="px-3 py-2">1</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="mt-2">
                                            <label class="text-sm">时间片大小: 1</label>
                                        </div>
                                    </div>
                                    
                                    <div class="flex space-x-2">
                                        <button id="rr-run" class="bg-process hover:bg-process/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                                            <i class="fa fa-play mr-2"></i> 运行演示
                                        </button>
                                        <button id="rr-reset" class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md transition-all flex items-center">
                                            <i class="fa fa-refresh mr-2"></i> 重置
                                        </button>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-2">调度过程演示</h4>
                                    <div class="bg-white border border-gray-200 rounded-lg p-4 h-64">
                                        <div class="mb-4">
                                            <div class="text-sm text-gray-600 mb-1">CPU执行序列</div>
                                            <div class="flex h-12 border border-gray-200 rounded overflow-hidden flex-wrap">
                                                <div id="rr-p1-1" class="process-block bg-process" style="width: 10%;">P1</div>
                                                <div id="rr-p2-1" class="process-block bg-process" style="width: 10%; opacity: 0.5;">P2</div>
                                                <div id="rr-p3-1" class="process-block bg-process" style="width: 10%; opacity: 0.5;">P3</div>
                                                <div id="rr-p1-2" class="process-block bg-process" style="width: 10%; opacity: 0.5;">P1</div>
                                                <div id="rr-p2-2" class="process-block bg-process" style="width: 10%; opacity: 0.5;">P2</div>
                                                <div id="rr-p1-3" class="process-block bg-process" style="width: 10%; opacity: 0.5;">P1</div>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-2">
                                            <div class="text-sm text-gray-600 mb-1">时间轴</div>
                                            <div class="flex justify-between text-xs text-gray-500">
                                                <span>0</span>
                                                <span>1</span>
                                                <span>2</span>
                                                <span>3</span>
                                                <span>4</span>
                                                <span>5</span>
                                                <span>6</span>
                                            </div>
                                        </div>
                                        
                                        <div id="rr-result" class="mt-6 text-sm">
                                            <p>等待演示结果...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 进程同步与死锁 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">进程同步与死锁</h3>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-medium mb-2">临界区与互斥</h4>
                            <p class="text-gray-700 text-sm">
                                临界区是进程中访问共享资源的一段代码。为保证共享资源的正确使用，
                                临界区需要互斥访问，即同一时间只能有一个进程进入临界区。
                            </p>
                        </div>
                        
                        <div>
                            <h4 class="font-medium mb-2">死锁</h4>
                            <p class="text-gray-700 text-sm mb-2">
                                死锁是指多个进程因相互等待对方释放资源而陷入无限等待的状态。
                                死锁产生的四个必要条件：
                            </p>
                            <ul class="list-disc pl-6 text-sm text-gray-700">
                                <li>互斥条件：资源只能被一个进程占用</li>
                                <li>占有且等待：进程占有部分资源，同时等待其他资源</li>
                                <li>不可剥夺：资源不能被强制剥夺</li>
                                <li>循环等待：进程间形成相互等待的循环</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- 解题技巧 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold mb-3">解题技巧</h3>
                    <ul class="list-disc pl-6 space-y-2 text-gray-700">
                        <li><strong>进程状态转换</strong>：牢记进程状态转换图，特别是就绪→运行、运行→阻塞、阻塞→就绪这几种转换条件</li>
                        <li><strong>调度算法计算</strong>：掌握计算周转时间（完成时间-到达时间）和带权周转时间（周转时间/运行时间）的方法</li>
                        <li><strong>死锁判断</strong>：使用资源分配图或银行家算法判断系统是否处于安全状态</li>
                        <li><strong>关键区分</strong>：区分进程与线程的区别（线程是进程内的执行单元，共享进程资源）</li>
                    </ul>
                </div>
                
                <!-- 例题解析 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">例题解析</h3>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-medium mb-2">例题1：进程调度</h4>
                        <p class="text-gray-700 mb-3">
                            设有3个进程P1、P2、P3同时到达，它们的运行时间分别是T1=20、T2=10、T3=5，
                            若采用短作业优先调度算法，则平均周转时间为（ ）。
                        </p>
                        <div class="bg-white p-3 rounded border border-gray-200 mb-3">
                            <p class="font-medium mb-1">解答步骤：</p>
                            <ol class="list-decimal pl-5 text-sm text-gray-700 space-y-1">
                                <li>短作业优先调度顺序为：P3(5) → P2(10) → P1(20)</li>
                                <li>P3的周转时间：5-0=5</li>
                                <li>P2的周转时间：5+10-0=15</li>
                                <li>P1的周转时间：5+10+20-0=35</li>
                                <li>平均周转时间：(5+15+35)/3 = 55/3 ≈ 18.33</li>
                            </ol>
                        </div>
                        <p class="text-sm font-medium">答案：18.33</p>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-lg mt-4">
                        <h4 class="font-medium mb-2">例题2：死锁判断</h4>
                        <p class="text-gray-700 mb-3">
                            系统中有4个进程和2类资源，资源总量分别为3、3。当前资源分配情况如下：
                            <br>已分配资源：P1(1,0)，P2(0,1)，P3(1,1)，P4(1,0)
                            <br>需求资源：P1(1,1)，P2(1,0)，P3(0,0)，P4(0,1)
                            <br>请问系统是否处于死锁状态？
                        </p>
                        <div class="bg-white p-3 rounded border border-gray-200 mb-3">
                            <p class="font-medium mb-1">解答步骤：</p>
                            <ol class="list-decimal pl-5 text-sm text-gray-700 space-y-1">
                                <li>计算剩余资源：(3-1-0-1-1, 3-0-1-1-0) = (0,1)</li>
                                <li>P3已满足所有需求，完成后释放资源(1,1)，剩余资源变为(1,2)</li>
                                <li>剩余资源可满足P2需求(1,0)，P2完成后释放资源(0,1)，剩余资源变为(1,3)</li>
                                <li>剩余资源可满足P1需求(1,1)，P1完成后释放资源(1,0)，剩余资源变为(2,3)</li>
                                <li>最后满足P4需求(0,1)，所有进程均可完成</li>
                            </ol>
                        </div>
                        <p class="text-sm font-medium">答案：系统不处于死锁状态</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 内存管理 -->
        <section id="memory" class="topic-card">
            <h2 class="text-2xl font-bold text-memory mb-6 flex items-center">
                <i class="fa fa-microchip mr-2"></i> 内存管理
            </h2>
            
            <div class="space-y-6">
                <!-- 内存管理基本概念 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">基本概念</h3>
                    <p class="text-gray-700 mb-3">
                        内存管理是操作系统对内存资源进行分配、回收和保护的过程，主要目的是提高内存利用率，
                        方便用户使用，并为多道程序运行提供良好环境。
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-memory mb-2">内存管理的功能</h4>
                            <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                <li>内存分配与回收</li>
                                <li>地址转换（逻辑地址→物理地址）</li>
                                <li>内存保护</li>
                                <li>内存扩充（虚拟内存）</li>
                            </ul>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-memory mb-2">地址空间</h4>
                            <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                <li><strong>逻辑地址</strong>：程序中使用的地址，由编译器生成</li>
                                <li><strong>物理地址</strong>：内存中实际的地址</li>
                                <li><strong>地址重定位</strong>：将逻辑地址转换为物理地址的过程</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- 内存分配方式 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">内存分配方式</h3>
                    
                    <div class="space-y-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-medium mb-2">连续分配方式</h4>
                            <p class="text-sm text-gray-700 mb-2">
                                连续分配是指为一个用户程序分配连续的内存空间，主要包括：
                            </p>
                            <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                <li><strong>单一连续分配</strong>：内存分为系统区和用户区，只允许一个用户程序运行</li>
                                <li><strong>固定分区分配</strong>：将内存划分为若干固定大小的分区，每个分区运行一个程序</li>
                                <li><strong>动态分区分配</strong>：根据程序大小动态分配连续的内存空间</li>
                            </ul>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-medium mb-2">非连续分配方式</h4>
                            <p class="text-sm text-gray-700 mb-2">
                                非连续分配允许程序分散地装入内存，主要包括：
                            </p>
                            <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                <li><strong>分页存储管理</strong>：将内存和程序均划分为大小相等的页，以页为单位分配</li>
                                <li><strong>分段存储管理</strong>：按程序的逻辑结构将程序划分为段，每段独立分配内存</li>
                                <li><strong>段页式存储管理</strong>：结合分页和分段的优点，先分段再分页</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- 分页存储管理演示 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">分页存储管理演示</h3>
                    <p class="text-gray-700 mb-4">
                        分页存储管理将进程的逻辑地址空间分成若干个大小相等的页(Page)，
                        同时将物理内存空间分成与页大小相等的块(Block)。
                        逻辑地址由页号和页内偏移量组成。
                    </p>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-medium mb-2">基本原理</h4>
                            <p class="text-sm text-gray-700 mb-3">
                                逻辑地址转换为物理地址的公式：
                            </p>
                            <div class="bg-white p-3 rounded border border-gray-200 mb-3 text-center font-mono text-sm">
                                物理地址 = 块号 × 块大小 + 页内偏移量
                            </div>
                            
                            <div class="mb-4">
                                <h4 class="font-medium mb-2">页表与地址转换</h4>
                                <div class="mb-3">
                                    <label class="block text-sm mb-1">页大小: 1024 bytes</label>
                                    <label class="block text-sm mb-1">逻辑地址: <input type="number" id="logical-address" value="2500" class="w-24 border border-gray-300 rounded px-2 py-1 text-sm"></label>
                                </div>
                                
                                <div class="flex space-x-2">
                                    <button id="address-convert" class="bg-memory hover:bg-memory/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                                        <i class="fa fa-exchange mr-2"></i> 转换地址
                                    </button>
                                    <button id="address-reset" class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md transition-all flex items-center">
                                        <i class="fa fa-refresh mr-2"></i> 重置
                                    </button>
                                </div>
                                
                                <div id="address-result" class="mt-4 p-3 bg-white border border-gray-200 rounded text-sm">
                                    <p>页号: ?</p>
                                    <p>页内偏移量: ?</p>
                                    <p>物理块号: ?</p>
                                    <p>物理地址: ?</p>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h4 class="font-medium mb-2">页表与内存分配演示</h4>
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <div class="mb-4">
                                    <h5 class="text-sm font-medium mb-2">页表</h5>
                                    <div class="overflow-x-auto">
                                        <table class="min-w-full text-sm">
                                            <thead>
                                                <tr class="bg-gray-100">
                                                    <th class="px-3 py-1 text-left">页号</th>
                                                    <th class="px-3 py-1 text-left">物理块号</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="border-b border-gray-100">
                                                    <td class="px-3 py-1">0</td>
                                                    <td class="px-3 py-1">2</td>
                                                </tr>
                                                <tr class="border-b border-gray-100">
                                                    <td class="px-3 py-1">1</td>
                                                    <td class="px-3 py-1">5</td>
                                                </tr>
                                                <tr class="border-b border-gray-100">
                                                    <td class="px-3 py-1">2</td>
                                                    <td class="px-3 py-1">7</td>
                                                </tr>
                                                <tr class="border-b border-gray-100">
                                                    <td class="px-3 py-1">3</td>
                                                    <td class="px-3 py-1">1</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <div>
                                    <h5 class="text-sm font-medium mb-2">物理内存分配</h5>
                                    <div class="grid grid-cols-8 gap-1">
                                        <div class="memory-block border-gray-300" style="height: 30px;">0</div>
                                        <div class="memory-block border-memory bg-memory/10" style="height: 30px;">1</div>
                                        <div class="memory-block border-memory bg-memory/10" style="height: 30px;">2</div>
                                        <div class="memory-block border-gray-300" style="height: 30px;">3</div>
                                        <div class="memory-block border-gray-300" style="height: 30px;">4</div>
                                        <div class="memory-block border-memory bg-memory/10" style="height: 30px;">5</div>
                                        <div class="memory-block border-gray-300" style="height: 30px;">6</div>
                                        <div class="memory-block border-memory bg-memory/10" style="height: 30px;">7</div>
                                    </div>
                                    <div class="text-xs text-gray-500 mt-1">
                                        <span class="inline-block w-3 h-3 bg-memory/10 border border-memory rounded-sm mr-1"></span>
                                        已分配块&nbsp;&nbsp;
                                        <span class="inline-block w-3 h-3 bg-white border border-gray-300 rounded-sm mr-1"></span>
                                        未分配块
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 虚拟内存技术 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">虚拟内存技术</h3>
                    <p class="text-gray-700 mb-3">
                        虚拟内存是一种内存管理技术，它使得应用程序认为它拥有连续的可用的内存（一个连续完整的地址空间），
                        而实际上，它通常是被分隔成多个物理内存碎片，还有部分暂时存储在外部磁盘存储器上，
                        在需要时进行数据交换。
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-memory mb-2">虚拟内存的特征</h4>
                            <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                <li>离散性：不需要连续的物理内存</li>
                                <li>多次性：程序可以分多次装入内存</li>
                                <li>对换性：程序可以在内存和外存间交换</li>
                                <li>虚拟性：逻辑地址空间远大于物理内存</li>
                            </ul>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-memory mb-2">页面置换算法</h4>
                            <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                <li><strong>最佳置换算法(OPT)</strong>：置换未来最长时间不使用的页</li>
                                <li><strong>先进先出算法(FIFO)</strong>：置换最早进入内存的页</li>
                                <li><strong>最近最久未使用算法(LRU)</strong>：置换最近最长时间未使用的页</li>
                                <li><strong>时钟置换算法(CLOCK)</strong>：简单有效的近似LRU算法</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- 解题技巧 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold mb-3">解题技巧</h3>
                    <ul class="list-disc pl-6 space-y-2 text-gray-700">
                        <li><strong>地址转换计算</strong>：掌握页式存储中逻辑地址到物理地址的转换方法，记住公式：页号 = 逻辑地址 / 页大小，页内偏移 = 逻辑地址 % 页大小</li>
                        <li><strong>页面置换算法</strong>：能够用FIFO和LRU算法模拟页面置换过程，计算缺页次数</li>
                        <li><strong>内存碎片</strong>：理解内部碎片（分页产生）和外部碎片（分段产生）的区别</li>
                        <li><strong>虚拟内存</strong>：理解虚拟内存的作用是扩大逻辑内存空间，基于局部性原理</li>
                    </ul>
                </div>
                
                <!-- 例题解析 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">例题解析</h3>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-medium mb-2">例题1：地址转换</h4>
                        <p class="text-gray-700 mb-3">
                            若页面大小为4KB，页表如下，逻辑地址为12345（十进制），其对应的物理地址是多少？
                            <br>页表：0→5，1→8，2→10，3→3
                        </p>
                        <div class="bg-white p-3 rounded border border-gray-200 mb-3">
                            <p class="font-medium mb-1">解答步骤：</p>
                            <ol class="list-decimal pl-5 text-sm text-gray-700 space-y-1">
                                <li>页大小 = 4KB = 4×1024 = 4096 bytes</li>
                                <li>页号 = 12345 / 4096 = 3（取整数部分）</li>
                                <li>页内偏移量 = 12345 % 4096 = 12345 - 3×4096 = 12345 - 12288 = 57</li>
                                <li>查页表得物理块号 = 3</li>
                                <li>物理地址 = 3×4096 + 57 = 12288 + 57 = 12345</li>
                            </ol>
                        </div>
                        <p class="text-sm font-medium">答案：12345</p>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-lg mt-4">
                        <h4 class="font-medium mb-2">例题2：页面置换</h4>
                        <p class="text-gray-700 mb-3">
                            假设系统为某进程分配了3个物理块，页面访问序列为：1、2、3、4、1、2、5、1、2、3、4、5，
                            采用LRU页面置换算法，缺页次数为（ ）。
                        </p>
                        <div class="bg-white p-3 rounded border border-gray-200 mb-3">
                            <p class="font-medium mb-1">解答步骤：</p>
                            <p class="text-sm text-gray-700 mb-2">LRU（最近最久未使用）算法置换过程：</p>
                            <div class="overflow-x-auto">
                                <table class="min-w-full text-sm">
                                    <thead>
                                        <tr class="bg-gray-100">
                                            <th class="px-2 py-1 text-center">访问页</th>
                                            <th class="px-2 py-1 text-center">物理块1</th>
                                            <th class="px-2 py-1 text-center">物理块2</th>
                                            <th class="px-2 py-1 text-center">物理块3</th>
                                            <th class="px-2 py-1 text-center">缺页？</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center">-</td>
                                            <td class="px-2 py-1 text-center">-</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">-</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">3</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">3</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">4</td>
                                            <td class="px-2 py-1 text-center">4</td>
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">3</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center">4</td>
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">4</td>
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center text-green-500">否</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">5</td>
                                            <td class="px-2 py-1 text-center">5</td>
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center">5</td>
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center text-green-500">否</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">5</td>
                                            <td class="px-2 py-1 text-center">2</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center text-green-500">否</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">3</td>
                                            <td class="px-2 py-1 text-center">5</td>
                                            <td class="px-2 py-1 text-center">3</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">4</td>
                                            <td class="px-2 py-1 text-center">4</td>
                                            <td class="px-2 py-1 text-center">3</td>
                                            <td class="px-2 py-1 text-center">1</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                        <tr class="border-b border-gray-100">
                                            <td class="px-2 py-1 text-center">5</td>
                                            <td class="px-2 py-1 text-center">4</td>
                                            <td class="px-2 py-1 text-center">3</td>
                                            <td class="px-2 py-1 text-center">5</td>
                                            <td class="px-2 py-1 text-center text-red-500">是</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p class="text-sm mt-2">缺页次数共计：9次</p>
                        </div>
                        <p class="text-sm font-medium">答案：9</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 文件系统 -->
        <section id="file" class="topic-card">
            <h2 class="text-2xl font-bold text-file mb-6 flex items-center">
                <i class="fa fa-folder mr-2"></i> 文件系统
            </h2>
            
            <div class="space-y-6">
                <!-- 文件系统基本概念 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">基本概念</h3>
                    <p class="text-gray-700 mb-3">
                        文件系统是操作系统中负责管理和存储文件信息的软件机构，它负责为用户创建文件、
                        撤销文件、读写文件、修改文件、复制文件和对文件进行保护。
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-file mb-2">文件的属性</h4>
                            <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                <li>文件名：用于标识文件的字符串</li>
                                <li>文件类型：指明文件的格式和用途</li>
                                <li>文件大小：文件所占用的存储空间</li>
                                <li>文件位置：文件在存储设备上的物理位置</li>
                                <li>创建时间：文件的创建日期和时间</li>
                                <li>访问权限：规定哪些用户可以访问文件及访问方式</li>
                            </ul>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-file mb-2">文件的操作</h4>
                            <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                <li>创建文件：建立新文件并分配存储空间</li>
                                <li>删除文件：从系统中移除文件并释放空间</li>
                                <li>读文件：将文件内容从外存读入内存</li>
                                <li>写文件：将内存中的数据写入外存文件</li>
                                <li>打开文件：建立文件与进程的联系</li>
                                <li>关闭文件：解除文件与进程的联系</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- 文件目录结构 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">文件目录结构</h3>
                    <p class="text-gray-700 mb-4">
                        文件目录用于组织和管理系统中的大量文件，常见的目录结构有：
                    </p>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div>
                            <div class="space-y-4">
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="font-medium mb-2">1. 树形目录结构</h4>
                                    <p class="text-sm text-gray-700">
                                        目前大多数操作系统（如Windows、Linux）都采用树形目录结构，
                                        有一个根目录，之下可以包含文件和子目录，子目录又可以包含文件和更深层次的子目录。
                                    </p>
                                </div>
                                
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="font-medium mb-2">2. 路径</h4>
                                    <p class="text-sm text-gray-700 mb-2">
                                        在树形目录结构中，定位一个文件需要使用路径：
                                    </p>
                                    <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                                        <li><strong>绝对路径</strong>：从根目录开始的完整路径</li>
                                        <li><strong>相对路径</strong>：从当前目录开始的路径</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h4 class="font-medium mb-2">目录树演示</h4>
                            <div class="bg-white border border-gray-200 rounded-lg p-4 h-64 overflow-y-auto">
                                <div id="directory-tree" class="text-sm">
                                    <div class="file-node bg-gray-100">
                                        <i class="fa fa-folder text-yellow-500 mr-1"></i>/ (根目录)
                                        <div class="ml-6 mt-2">
                                            <div class="file-node">
                                                <i class="fa fa-folder text-yellow-500 mr-1"></i>usr
                                                <div class="ml-6 mt-2">
                                                    <div class="file-node">
                                                        <i class="fa fa-folder text-yellow-500 mr-1"></i>local
                                                        <div class="ml-6 mt-2">
                                                            <div class="file-node">
                                                                <i class="fa fa-file text-gray-400 mr-1"></i>program.exe
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="file-node">
                                                <i class="fa fa-folder text-yellow-500 mr-1"></i>home
                                                <div class="ml-6 mt-2">
                                                    <div class="file-node">
                                                        <i class="fa fa-file text-gray-400 mr-1"></i>document.txt
                                                    </div>
                                                    <div class="file-node">
                                                        <i class="fa fa-file text-gray-400 mr-1"></i>image.png
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="file-node">
                                                <i class="fa fa-file text-gray-400 mr-1"></i>readme.txt
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <label class="block text-sm mb-1">当前目录: /home</label>
                                    <div class="flex">
                                        <input type="text" id="file-path" value="document.txt" class="flex-1 border border-gray-300 rounded-l px-2 py-1 text-sm">
                                        <button id="resolve-path" class="bg-file hover:bg-file/90 text-white px-3 py-1 rounded-r text-sm">
                                            解析路径
                                        </button>
                                    </div>
                                    <div id="path-result" class="mt-2 text-sm p-2 bg-gray-50 rounded">
                                        绝对路径: ?
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 文件的物理结构 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">文件的物理结构</h3>
                    <p class="text-gray-700 mb-3">
                        文件的物理结构是指文件在外存上的存储组织形式，常见的有：
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-file mb-2">连续结构</h4>
                            <p class="text-sm text-gray-700">
                                文件的所有数据连续存放在外存的连续块中。
                                优点是读写速度快；缺点是不利于文件的动态增长和插入。
                            </p>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-file mb-2">链接结构</h4>
                            <p class="text-sm text-gray-700">
                                文件的数据存放在不连续的块中，每个块包含指向下一块的指针。
                                优点是易于文件扩展；缺点是随机访问速度慢。
                            </p>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-3">
                            <h4 class="font-medium text-file mb-2">索引结构</h4>
                            <p class="text-sm text-gray-700">
                                文件的数据存放在不连续的块中，通过索引块记录这些块的位置。
                                优点是兼顾了顺序访问和随机访问的效率；缺点是需要额外空间存储索引。
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- 解题技巧 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold mb-3">解题技巧</h3>
                    <ul class="list-disc pl-6 space-y-2 text-gray-700">
                        <li><strong>路径计算</strong>：掌握绝对路径和相对路径的转换方法，特别是".."表示上一级目录，"."表示当前目录</li>
                        <li><strong>目录树遍历</strong>：能够计算目录树中文件或目录的数量，理解深度和广度的概念</li>
                        <li><strong>文件属性</strong>：了解文件的基本属性及其含义，特别是文件权限相关概念</li>
                        <li><strong>文件操作</strong>：理解各种文件操作的作用和执行顺序，如打开→读写→关闭的流程</li>
                    </ul>
                </div>
                
                <!-- 例题解析 -->
                <div>
                    <h3 class="text-xl font-semibold mb-3">例题解析</h3>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-medium mb-2">例题1：路径转换</h4>
                        <p class="text-gray-700 mb-3">
                            若当前目录为"/usr/local/bin"，则相对路径"../../home/user/file.txt"对应的绝对路径是（ ）。
                        </p>
                        <div class="bg-white p-3 rounded border border-gray-200 mb-3">
                            <p class="font-medium mb-1">解答步骤：</p>
                            <ol class="list-decimal pl-5 text-sm text-gray-700 space-y-1">
                                <li>从当前目录"/usr/local/bin"开始解析</li>
                                <li>"../"表示上一级目录，第一个"../"将路径变为"/usr/local"</li>
                                <li>第二个"../"将路径变为"/usr"</li>
                                <li>后续"home/user/file.txt"表示从"/usr"开始的相对路径</li>
                                <li>拼接后得到绝对路径："/usr/home/user/file.txt"</li>
                            </ol>
                        </div>
                        <p class="text-sm font-medium">答案：/usr/home/user/file.txt</p>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-lg mt-4">
                        <h4 class="font-medium mb-2">例题2：目录树结构</h4>
                        <p class="text-gray-700 mb-3">
                            在一个树形目录结构中，根目录有3个子目录，每个子目录下又有4个文件，则该文件系统中
                            共有多少个目录？多少个文件？
                        </p>
                        <div class="bg-white p-3 rounded border border-gray-200 mb-3">
                            <p class="font-medium mb-1">解答步骤：</p>
                            <ol class="list-decimal pl-5 text-sm text-gray-700 space-y-1">
                                <li>目录包括：1个根目录 + 3个子目录 = 4个目录</li>
                                <li>文件总数：3个子目录 × 4个文件 = 12个文件</li>
                            </ol>
                        </div>
                        <p class="text-sm font-medium">答案：4个目录，12个文件</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-white border-t border-gray-200 py-6">
        <div class="container mx-auto px-4">
            <div class="text-center text-gray-600 text-sm">
                <p>© 2023 CSP初赛知识点讲解 | 操作系统基础</p>
                <p class="mt-2">专注于信息学奥赛基础知识讲解</p>
            </div>
        </div>
    </footer>

    <script>
        // 初始化代码高亮
        hljs.highlightAll();
        
        // 标签切换功能
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // 移除所有标签的active类
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // 为当前点击的标签添加active类
                button.classList.add('active');
                const tabId = button.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // 进程调度算法演示 - FCFS
        document.getElementById('fcfs-run').addEventListener('click', () => {
            document.getElementById('fcfs-p1').style.opacity = '1';
            setTimeout(() => {
                document.getElementById('fcfs-p2').style.opacity = '1';
                setTimeout(() => {
                    document.getElementById('fcfs-p3').style.opacity = '1';
                    document.getElementById('fcfs-result').innerHTML = `
                        <p>P1 周转时间: 3-0=3</p>
                        <p>P2 周转时间: 5-1=4</p>
                        <p>P3 周转时间: 6-2=4</p>
                        <p>平均周转时间: (3+4+4)/3 = 3.67</p>
                    `;
                }, 1000);
            }, 1500);
        });
        
        document.getElementById('fcfs-reset').addEventListener('click', () => {
            document.getElementById('fcfs-p1').style.opacity = '1';
            document.getElementById('fcfs-p2').style.opacity = '0.5';
            document.getElementById('fcfs-p3').style.opacity = '0.5';
            document.getElementById('fcfs-result').innerHTML = '<p>等待演示结果...</p>';
        });
        
        // 进程调度算法演示 - SJF
        document.getElementById('sjf-run').addEventListener('click', () => {
            document.getElementById('sjf-p1').style.opacity = '1';
            setTimeout(() => {
                document.getElementById('sjf-p3').style.opacity = '1';
                setTimeout(() => {
                    document.getElementById('sjf-p2').style.opacity = '1';
                    document.getElementById('sjf-result').innerHTML = `
                        <p>P1 周转时间: 3-0=3</p>
                        <p>P3 周转时间: 4-2=2</p>
                        <p>P2 周转时间: 6-1=5</p>
                        <p>平均周转时间: (3+2+5)/3 = 3.33</p>
                    `;
                }, 500);
            }, 1500);
        });
        
        document.getElementById('sjf-reset').addEventListener('click', () => {
            document.getElementById('sjf-p1').style.opacity = '1';
            document.getElementById('sjf-p3').style.opacity = '0.5';
            document.getElementById('sjf-p2').style.opacity = '0.5';
            document.getElementById('sjf-result').innerHTML = '<p>等待演示结果...</p>';
        });
        
        // 进程调度算法演示 - RR
        document.getElementById('rr-run').addEventListener('click', () => {
            let elements = [
                'rr-p1-1', 'rr-p2-1', 'rr-p3-1', 
                'rr-p1-2', 'rr-p2-2', 'rr-p1-3'
            ];
            
            elements.forEach((id, index) => {
                setTimeout(() => {
                    document.getElementById(id).style.opacity = '1';
                    if (index === elements.length - 1) {
                        document.getElementById('rr-result').innerHTML = `
                            <p>P1 周转时间: 6-0=6</p>
                            <p>P2 周转时间: 5-1=4</p>
                            <p>P3 周转时间: 3-2=1</p>
                            <p>平均周转时间: (6+4+1)/3 = 3.67</p>
                        `;
                    }
                }, index * 500);
            });
        });
        
        document.getElementById('rr-reset').addEventListener('click', () => {
            let elements = [
                'rr-p1-1', 'rr-p2-1', 'rr-p3-1', 
                'rr-p1-2', 'rr-p2-2', 'rr-p1-3'
            ];
            
            elements.forEach((id, index) => {
                if (index === 0) {
                    document.getElementById(id).style.opacity = '1';
                } else {
                    document.getElementById(id).style.opacity = '0.5';
                }
            });
            document.getElementById('rr-result').innerHTML = '<p>等待演示结果...</p>';
        });
        
        // 地址转换演示
        document.getElementById('address-convert').addEventListener('click', () => {
            const logicalAddress = parseInt(document.getElementById('logical-address').value);
            const pageSize = 1024;
            
            if (isNaN(logicalAddress) || logicalAddress < 0) {
                alert('请输入有效的逻辑地址');
                return;
            }
            
            const pageNumber = Math.floor(logicalAddress / pageSize);
            const offset = logicalAddress % pageSize;
            
            // 页表映射
            const pageTable = {0: 2, 1: 5, 2: 7, 3: 1};
            
            if (pageTable[pageNumber] === undefined) {
                document.getElementById('address-result').innerHTML = `
                    <p>页号: ${pageNumber}</p>
                    <p>页内偏移量: ${offset}</p>
                    <p class="text-red-500">错误: 无效页号，发生页错误</p>
                `;
                return;
            }
            
            const frameNumber = pageTable[pageNumber];
            const physicalAddress = frameNumber * pageSize + offset;
            
            document.getElementById('address-result').innerHTML = `
                <p>页号: ${pageNumber}</p>
                <p>页内偏移量: ${offset}</p>
                <p>物理块号: ${frameNumber}</p>
                <p>物理地址: ${physicalAddress}</p>
            `;
        });
        
        document.getElementById('address-reset').addEventListener('click', () => {
            document.getElementById('logical-address').value = 2500;
            document.getElementById('address-result').innerHTML = `
                <p>页号: ?</p>
                <p>页内偏移量: ?</p>
                <p>物理块号: ?</p>
                <p>物理地址: ?</p>
            `;
        });
        
        // 路径解析演示
        document.getElementById('resolve-path').addEventListener('click', () => {
            const currentDir = '/home';
            const relativePath = document.getElementById('file-path').value;
            
            // 简单的路径解析逻辑
            let absolutePath = currentDir;
            
            if (relativePath.startsWith('/')) {
                absolutePath = relativePath;
            } else {
                const parts = relativePath.split('/');
                parts.forEach(part => {
                    if (part === '..') {
                        // 回到上一级目录
                        const lastSlash = absolutePath.lastIndexOf('/');
                        if (lastSlash > 0) {
                            absolutePath = absolutePath.substring(0, lastSlash);
                        }
                    } else if (part !== '.') {
                        absolutePath += '/' + part;
                    }
                });
            }
            
            document.getElementById('path-result').innerHTML = `绝对路径: ${absolutePath}`;
        });
    </script>
</body>
</html>