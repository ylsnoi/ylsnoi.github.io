<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>冒泡排序 - 姚老师信奥网</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4A80F0', // 主色调：鲜明的蓝色
                        secondary: '#6C63FF', // 辅助色：紫色
                        syntax: '#FF9800', // 语法部分：橙色
                        algorithm: '#2ECC71', // 算法部分：绿色
                        datastructure: '#9C27B0', // 数据结构部分：深紫色
                        darkbg: '#F8FAFC', // 浅灰白背景
                        cardbg: '#FFFFFF', // 卡片背景
                        hoverbg: '#F0F2F5', // 悬停背景
                        bubble: '#E91E63', // 冒泡排序主题色：粉红色
                        execution: '#FFEB3B', // 执行高亮：黄色
                    },
                    fontFamily: {
                        mono: ['Consolas', 'Monaco', 'Courier New', 'monospace'],
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .hover-scale {
                @apply transition-transform duration-300 hover:scale-[1.02];
            }
            .category-bg {
                @apply bg-gradient-to-r from-primary/5 to-primary/10;
            }
            .subcategory-bg {
                @apply bg-gradient-to-r from-secondary/5 to-secondary/10;
            }
            .bubble-bg {
                @apply bg-gradient-to-r from-bubble/5 to-bubble/10;
            }
            .card-shadow {
                @apply shadow-sm hover:shadow-md transition-shadow duration-300;
            }
            .nav-item {
                @apply text-gray-700 hover:text-primary transition-colors duration-200;
            }
            .topic-card {
                @apply bg-cardbg rounded-lg p-5 card-shadow hover-scale;
            }
            .subtopic-item {
                @apply bg-white rounded-md p-3 border border-gray-100 hover:border-primary/50 transition-all duration-200 cursor-pointer;
            }
            .topic-header {
                @apply text-xl font-bold text-primary mb-4 flex items-center;
            }
            .subtopic-header {
                @apply font-semibold text-secondary mb-3;
            }
            .bubble-header {
                @apply font-bold text-bubble mb-3;
            }
            .site-title {
                @apply text-2xl font-bold text-primary tracking-tight;
            }
            .code-block {
                @apply bg-gray-800 text-gray-100 rounded-lg p-4 overflow-x-auto my-4 text-sm font-mono;
            }
            .step-item {
                @apply p-3 rounded-md mb-2 border-l-4 border-bubble bg-bubble/5;
            }
            .step-number {
                @apply inline-block w-6 h-6 rounded-full bg-bubble text-white text-center mr-2 text-xs;
            }
            .array-element {
                @apply inline-block w-10 h-10 rounded-md bg-gray-200 text-center leading-10 mx-1 transition-all duration-300;
            }
            .array-element-compare {
                @apply bg-yellow-300 scale-125;
            }
            .array-element-swap {
                @apply bg-bubble text-white scale-125;
            }
            .array-element-sorted {
                @apply bg-green-300;
            }
            .animation-controls {
                @apply flex flex-wrap gap-2 items-center my-4;
            }
            .animation-step {
                @apply bg-gray-100 p-3 rounded-lg mb-4;
            }
            .animation-progress {
                @apply w-full bg-gray-200 rounded-full h-2.5 mb-2;
            }
            .animation-progress-bar {
                @apply bg-bubble h-2.5 rounded-full transition-all duration-300;
            }
            .animation-status {
                @apply text-sm text-gray-600 my-2 p-2 bg-gray-50 rounded;
            }
            .code-line {
                @apply transition-all duration-300;
            }
            .code-line-highlight {
                @apply bg-execution/30 text-gray-900 font-medium;
            }
        }
    </style>
</head>
<body class="bg-darkbg text-gray-800 font-sans min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <i class="fa fa-code text-primary text-3xl"></i>
                <h1 class="site-title">姚老师信奥网</h1>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#" class="nav-item">首页</a>
                <a href="#" class="nav-item">课程</a>
                <a href="#" class="nav-item">题库</a>
                <a href="#" class="nav-item">关于我们</a>
            </div>
            <div class="flex items-center space-x-4">
                <!-- 搜索框 -->
                <div class="relative hidden md:block">
                    <input type="text" id="search-input" placeholder="搜索算法、数据结构..." class="pl-10 pr-4 py-2 rounded-md bg-darkbg border border-gray-200 focus:outline-none focus:border-primary text-gray-700 w-64">
                    <button id="search-button" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-primary">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
                <div class="md:hidden">
                    <button class="text-gray-700">
                        <i class="fa fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- 移动端搜索框 -->
        <div class="md:hidden px-4 pb-3">
            <div class="relative">
                <input type="text" id="mobile-search-input" placeholder="搜索算法、数据结构..." class="pl-10 pr-4 py-2 rounded-md bg-darkbg border border-gray-200 focus:outline-none focus:border-primary text-gray-700 w-full">
                <button id="mobile-search-button" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-primary">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 面包屑导航 -->
    <div class="bg-white border-b border-gray-200 py-2">
        <div class="container mx-auto px-4">
            <nav class="flex text-sm" aria-label="Breadcrumb">
                <ol class="inline-flex items-center space-x-1 md:space-x-3">
                    <li class="inline-flex items-center">
                        <a href="#" class="text-gray-600 hover:text-primary">
                            <i class="fa fa-home mr-1"></i>首页
                        </a>
                    </li>
                    <li>
                        <div class="flex items-center">
                            <i class="fa fa-angle-right mx-2 text-gray-400"></i>
                            <a href="#" class="text-gray-600 hover:text-primary">算法基础</a>
                        </div>
                    </li>
                    <li>
                        <div class="flex items-center">
                            <i class="fa fa-angle-right mx-2 text-gray-400"></i>
                            <a href="#" class="text-gray-600 hover:text-primary">排序算法</a>
                        </div>
                    </li>
                    <li aria-current="page">
                        <div class="flex items-center">
                            <i class="fa fa-angle-right mx-2 text-gray-400"></i>
                            <span class="text-bubble font-medium">冒泡排序</span>
                        </div>
                    </li>
                </ol>
            </nav>
        </div>
    </div>

    <!-- 主要内容区 -->
    <main class="container mx-auto px-4 py-8">
        <!-- 页面标题 -->
        <div class="bubble-bg rounded-lg p-6 mb-8">
            <div class="flex flex-col md:flex-row md:items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-bubble mb-2">冒泡排序</h1>
                    <p class="text-gray-700">
                        冒泡排序是一种简单直观的排序算法，通过重复比较相邻元素并交换位置使最大元素"冒泡"到数组末端。
                        本页面将详细讲解冒泡排序的原理、实现方法、优化技巧以及在信息学奥赛中的应用。
                    </p>
                </div>
                <div class="mt-4 md:mt-0">
                    <div class="flex space-x-3">
                        <a href="#concept" class="bg-bubble hover:bg-bubble/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                            <i class="fa fa-book mr-2"></i> 学习概念
                        </a>
                        <a href="#problems" class="bg-white border border-bubble text-bubble hover:bg-bubble/5 px-4 py-2 rounded-md transition-all flex items-center">
                            <i class="fa fa-list-alt mr-2"></i> 查看题目
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- 冒泡排序概述 -->
        <section id="concept" class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-bubble mb-6 flex items-center">
                <i class="fa fa-info-circle mr-2"></i> 冒泡排序概述
            </h2>
            <div class="space-y-4">
                <div>
                    <h3 class="text-xl font-semibold mb-3">什么是冒泡排序？</h3>
                    <p class="text-gray-700">
                        冒泡排序（Bubble Sort）是一种简单的交换排序算法，其基本思想是通过重复遍历要排序的数组，
                        一次比较两个相邻的元素，如果它们的顺序错误就把它们交换过来。遍历数组的工作是重复地进行
                        直到没有再需要交换的元素为止，这意味着数组已经排序完成。
                    </p>
                    <div class="bg-gray-50 p-4 rounded-lg mt-3">
                        <h4 class="font-semibold mb-2">冒泡排序的特点：</h4>
                        <ul class="list-disc pl-5 space-y-2">
                            <li>简单直观，易于理解和实现</li>
                            <li>稳定排序算法（相等元素的相对位置不变）</li>
                            <li>原地排序（不需要额外的存储空间）</li>
                            <li>时间复杂度为O(n²)，适合小规模数据排序</li>
                            <li>属于交换排序类算法</li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold mb-3">冒泡排序的基本步骤</h3>
                    <div class="space-y-3">
                        <div class="step-item">
                            <span class="step-number">1</span>
                            <p>从数组的第一个元素开始，依次比较相邻的两个元素</p>
                        </div>
                        <div class="step-item">
                            <span class="step-number">2</span>
                            <p>如果前一个元素大于后一个元素，则交换它们的位置</p>
                        </div>
                        <div class="step-item">
                            <span class="step-number">3</span>
                            <p>继续比较下一对相邻元素，直到数组的末尾</p>
                        </div>
                        <div class="step-item">
                            <span class="step-number">4</span>
                            <p>完成一轮遍历后，最大的元素会"冒泡"到数组的最后位置</p>
                        </div>
                        <div class="step-item">
                            <span class="step-number">5</span>
                            <p>重复以上步骤，每次遍历的范围减少一个元素（最后一个元素已排序）</p>
                        </div>
                        <div class="step-item">
                            <span class="step-number">6</span>
                            <p>直到没有元素需要交换，排序完成</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 冒泡排序动画演示 -->
        <section class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-bubble mb-6 flex items-center">
                <i class="fa fa-play-circle mr-2"></i> 冒泡排序过程演示
            </h2>
            
            <div class="space-y-6">
                <!-- 排序动画 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">冒泡排序执行过程可视化</h3>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="lg:col-span-1">
                            <p class="text-gray-700 mb-4">
                                下面的动画展示了冒泡排序的完整执行过程，包括元素比较、交换和最终排序结果。
                                可以自定义数组或使用随机数组进行演示。
                            </p>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">数组元素:</label>
                                <input type="text" id="array-input" value="5,3,8,4,2" 
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-bubble">
                                <p class="text-xs text-gray-500 mt-1">使用逗号分隔的整数，如: 5,3,8,4,2</p>
                            </div>
                            
                            <div class="flex space-x-2 mb-4">
                                <button id="random-array" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-2 rounded-md transition-all flex items-center text-sm">
                                    <i class="fa fa-random mr-1"></i> 随机数组
                                </button>
                                <button id="reset-sort" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-2 rounded-md transition-all flex items-center text-sm">
                                    <i class="fa fa-refresh mr-1"></i> 重置
                                </button>
                            </div>
                            
                            <div class="flex space-x-2">
                                <button id="start-sort" class="bg-bubble hover:bg-bubble/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                                    <i class="fa fa-play mr-2"></i> 开始排序
                                </button>
                                <button id="step-sort" class="bg-white border border-bubble text-bubble hover:bg-bubble/5 px-4 py-2 rounded-md transition-all flex items-center">
                                    <i class="fa fa-step-forward mr-2"></i> 单步执行
                                </button>
                            </div>
                            
                            <div id="sort-status" class="animation-status mt-4">
                                状态: 就绪
                            </div>
                            
                            <div class="animation-progress mt-4">
                                <div id="sort-progress-bar" class="animation-progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-1">
                            <div class="bg-white border border-gray-200 rounded-lg p-4 h-64 flex items-center justify-center" id="array-visualization">
                                <div class="array-element">5</div>
                                <div class="array-element">3</div>
                                <div class="array-element">8</div>
                                <div class="array-element">4</div>
                                <div class="array-element">2</div>
                            </div>
                            <div id="sort-steps" class="mt-4 text-sm text-gray-700 h-20 overflow-y-auto">
                                <p>排序步骤将在这里显示</p>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-1">
                            <div class="bg-gray-800 text-gray-100 rounded-lg p-4 h-64 overflow-y-auto font-mono text-sm" id="sort-code">
                                <div class="code-line" id="sort-code-1">void bubbleSort(int arr[], int n) {</div>
                                <div class="code-line" id="sort-code-2">&nbsp;&nbsp;for (int i = 0; i < n - 1; i++) {</div>
                                <div class="code-line" id="sort-code-3">&nbsp;&nbsp;&nbsp;&nbsp;// 最后i个元素已经到位</div>
                                <div class="code-line" id="sort-code-4">&nbsp;&nbsp;&nbsp;&nbsp;for (int j = 0; j < n - i - 1; j++) {</div>
                                <div class="code-line" id="sort-code-5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 相邻元素比较</div>
                                <div class="code-line" id="sort-code-6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (arr[j] > arr[j+1]) {</div>
                                <div class="code-line" id="sort-code-7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 交换元素</div>
                                <div class="code-line" id="sort-code-8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int temp = arr[j];</div>
                                <div class="code-line" id="sort-code-9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr[j] = arr[j+1];</div>
                                <div class="code-line" id="sort-code-10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr[j+1] = temp;</div>
                                <div class="code-line" id="sort-code-11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div>
                                <div class="code-line" id="sort-code-12">&nbsp;&nbsp;&nbsp;&nbsp;}</div>
                                <div class="code-line" id="sort-code-13">&nbsp;&nbsp;}</div>
                                <div class="code-line" id="sort-code-14">}</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 冒泡排序优化 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">冒泡排序的优化</h3>
                    <p class="text-gray-700 mb-4">
                        基础冒泡排序效率较低，我们可以通过以下优化提高性能：
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white p-4 rounded-lg border border-gray-200">
                            <h4 class="font-semibold text-bubble mb-2">优化1：添加交换标志</h4>
                            <p class="text-gray-700 text-sm mb-2">
                                如果在一轮遍历中没有发生任何交换，说明数组已经有序，可以提前结束排序。
                            </p>
                            <pre class="code-block text-xs"><code class="language-cpp">void optimizedBubbleSort1(int arr[], int n) {
    for (int i = 0; i < n - 1; i++) {
        bool swapped = false; // 交换标志
        for (int j = 0; j < n - i - 1; j++) {
            if (arr[j] > arr[j+1]) {
                // 交换元素
                int temp = arr[j];
                arr[j] = arr[j+1];
                arr[j+1] = temp;
                swapped = true; // 发生交换
            }
        }
        // 如果没有交换，说明数组已排序
        if (!swapped) break;
    }
}</code></pre>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200">
                            <h4 class="font-semibold text-bubble mb-2">优化2：记录最后交换位置</h4>
                            <p class="text-gray-700 text-sm mb-2">
                                记录最后一次交换的位置，该位置之后的元素已经有序，下次遍历只需到该位置。
                            </p>
                            <pre class="code-block text-xs"><code class="language-cpp">void optimizedBubbleSort2(int arr[], int n) {
    int lastSwapPos = n - 1; // 最后一次交换的位置
    int boundary = n - 1;    // 无序部分的边界
    
    for (int i = 0; i < n - 1; i++) {
        bool swapped = false;
        for (int j = 0; j < boundary; j++) {
            if (arr[j] > arr[j+1]) {
                // 交换元素
                int temp = arr[j];
                arr[j] = arr[j+1];
                arr[j+1] = temp;
                swapped = true;
                lastSwapPos = j; // 更新最后交换位置
            }
        }
        boundary = lastSwapPos; // 更新边界
        if (!swapped) break;    // 没有交换则退出
    }
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 冒泡排序代码示例 -->
        <section class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-bubble mb-6 flex items-center">
                <i class="fa fa-code mr-2"></i> 冒泡排序代码示例 (C++)
            </h2>
            
            <div class="space-y-6">
                <!-- 基础实现示例 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">1. 基础实现</h3>
                    <p class="text-gray-700 mb-3">
                        冒泡排序的标准实现，适用于理解基本原理
                    </p>
                    
                    <pre class="code-block"><code class="language-cpp">#include <iostream>
using namespace std;

// 冒泡排序函数
void bubbleSort(int arr[], int n) {
    // 外层循环控制需要进行多少轮比较
    for (int i = 0; i < n - 1; i++) {
        // 内层循环进行相邻元素的比较和交换
        // 每轮结束后，最大的元素已"冒泡"到末尾
        for (int j = 0; j < n - i - 1; j++) {
            // 如果前一个元素大于后一个元素，则交换它们
            if (arr[j] > arr[j + 1]) {
                int temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
        }
    }
}

// 打印数组函数
void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        cout << arr[i] << " ";
    }
    cout << endl;
}

int main() {
    int arr[] = {64, 34, 25, 12, 22, 11, 90};
    int n = sizeof(arr) / sizeof(arr[0]);
    
    cout << "排序前的数组: ";
    printArray(arr, n);
    
    bubbleSort(arr, n);
    
    cout << "排序后的数组: ";
    printArray(arr, n);
    
    return 0;
}</code></pre>
                </div>
                
                <!-- 降序排序示例 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">2. 降序排序</h3>
                    <p class="text-gray-700 mb-3">
                        修改比较条件，实现从大到小的降序排序
                    </p>
                    
                    <pre class="code-block"><code class="language-cpp">#include <iostream>
using namespace std;

// 冒泡排序实现降序排序
void bubbleSortDescending(int arr[], int n) {
    for (int i = 0; i < n - 1; i++) {
        for (int j = 0; j < n - i - 1; j++) {
            // 只需修改比较条件为 < 即可实现降序
            if (arr[j] < arr[j + 1]) {
                int temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
        }
    }
}

void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        cout << arr[i] << " ";
    }
    cout << endl;
}

int main() {
    int arr[] = {5, 1, 4, 2, 8};
    int n = sizeof(arr) / sizeof(arr[0]);
    
    cout << "排序前的数组: ";
    printArray(arr, n);
    
    bubbleSortDescending(arr, n);
    
    cout << "降序排序后的数组: ";
    printArray(arr, n);
    
    return 0;
}</code></pre>
                </div>
                
                <!-- 优化版本示例 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">3. 高效优化版本</h3>
                    <p class="text-gray-700 mb-3">
                        结合两种优化方法，大幅提升部分有序数组的排序效率
                    </p>
                    
                    <pre class="code-block"><code class="language-cpp">#include <iostream>
using namespace std;

// 优化的冒泡排序
void efficientBubbleSort(int arr[], int n) {
    int lastSwapPos = 0;          // 记录最后一次交换的位置
    int unsortedBoundary = n - 1; // 无序部分的边界
    
    for (int i = 0; i < n - 1; i++) {
        bool swapped = false;     // 标记本轮是否发生交换
        
        // 只需要遍历到无序部分的边界
        for (int j = 0; j < unsortedBoundary; j++) {
            if (arr[j] > arr[j + 1]) {
                // 交换元素
                int temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
                
                swapped = true;
                lastSwapPos = j;  // 更新最后交换位置
            }
        }
        
        // 更新无序部分的边界
        unsortedBoundary = lastSwapPos;
        
        // 如果没有交换，说明数组已经有序，提前退出
        if (!swapped) {
            break;
        }
    }
}

void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        cout << arr[i] << " ";
    }
    cout << endl;
}

int main() {
    // 测试部分有序的数组
    int arr[] = {1, 3, 4, 5, 2, 6, 7, 8};
    int n = sizeof(arr) / sizeof(arr[0]);
    
    cout << "排序前的数组: ";
    printArray(arr, n);
    
    efficientBubbleSort(arr, n);
    
    cout << "排序后的数组: ";
    printArray(arr, n);
    
    return 0;
}</code></pre>
                </div>
            </div>
        </section>

        <!-- 冒泡排序的应用 -->
        <section class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-bubble mb-6 flex items-center">
                <i class="fa fa-lightbulb-o mr-2"></i> 冒泡排序的应用场景
            </h2>
            
            <div class="space-y-6">
                <div>
                    <h3 class="text-xl font-semibold mb-3">适合使用冒泡排序的情况</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-bubble mb-2">小规模数据排序</h4>
                            <p class="text-gray-700">
                                对于数据量较小（n < 100）的情况，冒泡排序简单易实现，且性能足够用。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-bubble mb-2">几乎有序的数据</h4>
                            <p class="text-gray-700">
                                当数据已经接近有序时，经过优化的冒泡排序可以达到接近O(n)的时间复杂度。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-bubble mb-2">教学与理解算法</h4>
                            <p class="text-gray-700">
                                冒泡排序是理解排序算法基本思想的绝佳例子，有助于掌握交换排序的核心概念。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-bubble mb-2">需要稳定排序的场景</h4>
                            <p class="text-gray-700">
                                当需要保持相等元素的相对位置时，冒泡排序的稳定性使其成为合适的选择。
                            </p>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold mb-3">信奥中的冒泡排序</h3>
                    <p class="text-gray-700 mb-3">
                        在信息学奥赛中，冒泡排序虽然不是最高效的排序算法，但仍有其应用价值：
                    </p>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li>作为基础算法，常出现在入门级排序题目中</li>
                        <li>在一些需要部分排序或检测有序性的问题中可灵活应用</li>
                        <li>可用于实现特定的算法逻辑，如找出数组中的逆序对数量</li>
                        <li>优化后的冒泡排序可解决一些对时间要求不高的问题</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 推荐题目 -->
        <section id="problems" class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-bubble mb-6 flex items-center">
                <i class="fa fa-tasks mr-2"></i> 推荐练习题目 (洛谷)
            </h2>
            
            <div class="space-y-6">
                <!-- 模板题 -->
                <div>
                    <h3 class="text-xl font-semibold mb-4 flex items-center">
                        <span class="inline-block w-8 h-8 rounded-full bg-green-500 text-white text-center leading-8 mr-2 text-sm">1</span>
                        模板题
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="bg-white p-4 rounded-lg border border-gray-200 hover:border-bubble transition-all duration-300">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-semibold">P1177 【模板】排序</h4>
                                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">入门</span>
                            </div>
                            <p class="text-gray-600 text-sm mb-3">
                                对给定的n个整数进行排序，直接应用冒泡排序算法即可解决。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P1177" target="_blank" class="text-bubble hover:text-bubble/80 text-sm flex items-center">
                                查看题目 <i class="fa fa-external-link ml-1"></i>
                            </a>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200 hover:border-bubble transition-all duration-300">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-semibold">P5713 【深基3.例5】洛谷团队系统</h4>
                                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">入门</span>
                            </div>
                            <p class="text-gray-600 text-sm mb-3">
                                简单的排序问题，适合初学者练习冒泡排序的基本应用。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P5713" target="_blank" class="text-bubble hover:text-bubble/80 text-sm flex items-center">
                                查看题目 <i class="fa fa-external-link ml-1"></i>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- 入门题 -->
                <div>
                    <h3 class="text-xl font-semibold mb-4 flex items-center">
                        <span class="inline-block w-8 h-8 rounded-full bg-blue-500 text-white text-center leading-8 mr-2 text-sm">2</span>
                        入门题
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="bg-white p-4 rounded-lg border border-gray-200 hover:border-bubble transition-all duration-300">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-semibold">P1059 [NOIP2006 普及组] 明明的随机数</h4>
                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">普及-</span>
                            </div>
                            <p class="text-gray-600 text-sm mb-3">
                                结合去重和排序的问题，可使用冒泡排序实现，并在过程中处理重复元素。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P1059" target="_blank" class="text-bubble hover:text-bubble/80 text-sm flex items-center">
                                查看题目 <i class="fa fa-external-link ml-1"></i>
                            </a>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200 hover:border-bubble transition-all duration-300">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-semibold">P1781 宇宙总统</h4>
                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">普及-</span>
                            </div>
                            <p class="text-gray-600 text-sm mb-3">
                                需要对大数字进行排序，可修改冒泡排序的比较条件来处理字符串形式的大数字。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P1781" target="_blank" class="text-bubble hover:text-bubble/80 text-sm flex items-center">
                                查看题目 <i class="fa fa-external-link ml-1"></i>
                            </a>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200 hover:border-bubble transition-all duration-300">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-semibold">P5715 【深基3.例8】三位数排序</h4>
                                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">入门</span>
                            </div>
                            <p class="text-gray-600 text-sm mb-3">
                                对三个整数进行排序，适合练习冒泡排序的核心逻辑。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P5715" target="_blank" class="text-bubble hover:text-bubble/80 text-sm flex items-center">
                                查看题目 <i class="fa fa-external-link ml-1"></i>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- 进阶题 -->
                <div>
                    <h3 class="text-xl font-semibold mb-4 flex items-center">
                        <span class="inline-block w-8 h-8 rounded-full bg-orange-500 text-white text-center leading-8 mr-2 text-sm">3</span>
                        进阶题
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="bg-white p-4 rounded-lg border border-gray-200 hover:border-bubble transition-all duration-300">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-semibold">P1138 第k小整数</h4>
                                <span class="bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded">普及/提高-</span>
                            </div>
                            <p class="text-gray-600 text-sm mb-3">
                                结合去重、排序和查找的综合问题，可使用冒泡排序并在排序过程中进行优化。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P1138" target="_blank" class="text-bubble hover:text-bubble/80 text-sm flex items-center">
                                查看题目 <i class="fa fa-external-link ml-1"></i>
                            </a>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200 hover:border-bubble transition-all duration-300">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-semibold">P2676 [USACO07DEC] Bookshelf B</h4>
                                <span class="bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded">普及/提高-</span>
                            </div>
                            <p class="text-gray-600 text-sm mb-3">
                                需要先排序再进行贪心选择的问题，排序部分可使用冒泡排序实现。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P2676" target="_blank" class="text-bubble hover:text-bubble/80 text-sm flex items-center">
                                查看题目 <i class="fa fa-external-link ml-1"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // 初始化代码高亮
        document.addEventListener('DOMContentLoaded', function() {
            hljs.highlightAll();
            
            // 冒泡排序演示相关变量
            let array = [5, 3, 8, 4, 2];
            let isSorting = false;
            let sortStep = 0;
            let i = 0, j = 0;
            let n = array.length;
            let lastSwapPos = 0;
            let boundary = n - 1;
            let swapped = false;
            let steps = [];
            
            // 更新数组可视化
            function updateArrayVisualization() {
                const container = document.getElementById('array-visualization');
                container.innerHTML = '';
                
                for (let k = 0; k < array.length; k++) {
                    const element = document.createElement('div');
                    element.className = 'array-element';
                    element.textContent = array[k];
                    
                    // 标记当前比较的元素
                    if (isSorting && k === j) {
                        element.classList.add('array-element-compare');
                    } else if (isSorting && k === j + 1) {
                        element.classList.add('array-element-compare');
                    }
                    
                    // 标记已排序的元素
                    if (k > boundary) {
                        element.classList.add('array-element-sorted');
                    }
                    
                    container.appendChild(element);
                }
            }
            
            // 更新代码高亮
            function highlightCodeLine(lineNumber) {
                // 移除所有高亮
                for (let k = 1; k <= 14; k++) {
                    document.getElementById(`sort-code-${k}`).classList.remove('code-line-highlight');
                }
                
                // 添加当前行高亮
                if (lineNumber >= 1 && lineNumber <= 14) {
                    document.getElementById(`sort-code-${lineNumber}`).classList.add('code-line-highlight');
                }
            }
            
            // 添加步骤说明
            function addStepDescription(description) {
                steps.push(description);
                const stepsContainer = document.getElementById('sort-steps');
                stepsContainer.innerHTML = steps.join('<br>');
                stepsContainer.scrollTop = stepsContainer.scrollHeight;
            }
            
            // 更新进度条
            function updateProgress() {
                const totalSteps = n * (n - 1) / 2;
                const progress = Math.min(100, (sortStep / totalSteps) * 100);
                document.getElementById('sort-progress-bar').style.width = `${progress}%`;
            }
            
            // 单步排序
            function stepSort() {
                if (!isSorting) {
                    isSorting = true;
                    document.getElementById('sort-status').textContent = '状态: 排序中';
                    highlightCodeLine(2); // 高亮外层循环
                    return;
                }
                
                if (i >= n - 1) {
                    // 排序完成
                    isSorting = false;
                    document.getElementById('sort-status').textContent = '状态: 排序完成';
                    highlightCodeLine(0); // 移除高亮
                    addStepDescription('排序完成!');
                    return;
                }
                
                if (j < boundary) {
                    highlightCodeLine(6); // 高亮比较条件
                    addStepDescription(`比较元素 ${array[j]} 和 ${array[j+1]}`);
                    
                    if (array[j] > array[j+1]) {
                        // 交换元素
                        highlightCodeLine(8); // 高亮交换代码
                        const temp = array[j];
                        array[j] = array[j+1];
                        array[j+1] = temp;
                        swapped = true;
                        lastSwapPos = j;
                        addStepDescription(`交换元素 ${array[j]} 和 ${array[j+1]}`);
                    }
                    
                    j++;
                    sortStep++;
                    highlightCodeLine(4); // 高亮内层循环
                } else {
                    // 内层循环结束
                    highlightCodeLine(3); // 高亮注释行
                    i++;
                    boundary = lastSwapPos;
                    
                    if (!swapped) {
                        addStepDescription('未发生交换，数组已排序');
                        // 排序完成
                        isSorting = false;
                        document.getElementById('sort-status').textContent = '状态: 排序完成';
                        highlightCodeLine(0); // 移除高亮
                        return;
                    }
                    
                    swapped = false;
                    j = 0;
                    addStepDescription(`第 ${i} 轮排序完成，最大元素已就位`);
                    highlightCodeLine(2); // 高亮外层循环
                }
                
                updateArrayVisualization();
                updateProgress();
            }
            
            // 自动排序
            function autoSort() {
                if (isSorting) return;
                
                function sortLoop() {
                    if (!isSorting || i >= n - 1) {
                        return;
                    }
                    
                    stepSort();
                    setTimeout(sortLoop, 800); // 每步延迟800ms
                }
                
                stepSort();
                setTimeout(sortLoop, 800);
            }
            
            // 重置排序
            function resetSort() {
                const input = document.getElementById('array-input').value;
                try {
                    array = input.split(',').map(Number);
                    // 验证输入是否有效
                    if (array.some(isNaN) || array.length < 2) {
                        throw new Error('无效输入');
                    }
                } catch (e) {
                    array = [5, 3, 8, 4, 2];
                    document.getElementById('array-input').value = '5,3,8,4,2';
                }
                
                n = array.length;
                isSorting = false;
                sortStep = 0;
                i = 0;
                j = 0;
                lastSwapPos = 0;
                boundary = n - 1;
                swapped = false;
                steps = [];
                
                updateArrayVisualization();
                updateProgress();
                document.getElementById('sort-status').textContent = '状态: 就绪';
                document.getElementById('sort-steps').textContent = '排序步骤将在这里显示';
                highlightCodeLine(0); // 移除高亮
            }
            
            // 生成随机数组
            function generateRandomArray() {
                const size = Math.floor(Math.random() * 5) + 5; // 5-9个元素
                const arr = [];
                for (let k = 0; k < size; k++) {
                    arr.push(Math.floor(Math.random() * 100));
                }
                document.getElementById('array-input').value = arr.join(',');
                resetSort();
            }
            
            // 绑定事件
            document.getElementById('start-sort').addEventListener('click', autoSort);
            document.getElementById('step-sort').addEventListener('click', stepSort);
            document.getElementById('reset-sort').addEventListener('click', resetSort);
            document.getElementById('random-array').addEventListener('click', generateRandomArray);
            
            // 初始化显示
            updateArrayVisualization();
        });
    </script>
</body>
</html>