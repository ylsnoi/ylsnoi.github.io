<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>函数定义 - 姚老师信奥网</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4A80F0', // 主色调：鲜明的蓝色
                        secondary: '#6C63FF', // 辅助色：紫色
                        syntax: '#FF9800', // 语法部分：橙色
                        algorithm: '#2ECC71', // 算法部分：绿色
                        datastructure: '#9C27B0', // 数据结构部分：深紫色
                        darkbg: '#F8FAFC', // 浅灰白背景
                        cardbg: '#FFFFFF', // 卡片背景
                        hoverbg: '#F0F2F5', // 悬停背景
                        function: '#E91E63', // 函数主题色：粉红色
                        execution: '#FFEB3B', // 执行高亮：黄色
                    },
                    fontFamily: {
                        mono: ['Consolas', 'Monaco', 'Courier New', 'monospace'],
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .hover-scale {
                @apply transition-transform duration-300 hover:scale-[1.02];
            }
            .category-bg {
                @apply bg-gradient-to-r from-primary/5 to-primary/10;
            }
            .subcategory-bg {
                @apply bg-gradient-to-r from-secondary/5 to-secondary/10;
            }
            .function-bg {
                @apply bg-gradient-to-r from-function/5 to-function/10;
            }
            .card-shadow {
                @apply shadow-sm hover:shadow-md transition-shadow duration-300;
            }
            .nav-item {
                @apply text-gray-700 hover:text-primary transition-colors duration-200;
            }
            .topic-card {
                @apply bg-cardbg rounded-lg p-5 card-shadow hover-scale;
            }
            .subtopic-item {
                @apply bg-white rounded-md p-3 border border-gray-100 hover:border-primary/50 transition-all duration-200 cursor-pointer;
            }
            .topic-header {
                @apply text-xl font-bold text-primary mb-4 flex items-center;
            }
            .subtopic-header {
                @apply font-semibold text-secondary mb-3;
            }
            .function-header {
                @apply font-bold text-function mb-3;
            }
            .site-title {
                @apply text-2xl font-bold text-primary tracking-tight;
            }
            .code-block {
                @apply bg-gray-800 text-gray-100 rounded-lg p-4 overflow-x-auto my-4 text-sm font-mono;
            }
            .step-item {
                @apply p-3 rounded-md mb-2 border-l-4 border-function bg-function/5;
            }
            .step-number {
                @apply inline-block w-6 h-6 rounded-full bg-function text-white text-center mr-2 text-xs;
            }
            .function-call {
                @apply border-2 border-gray-300 rounded-md p-2 mb-1 bg-gray-50 transition-all duration-500;
            }
            .function-call-active {
                @apply border-function bg-function/10 transform scale-[1.02];
            }
            .animation-controls {
                @apply flex flex-wrap gap-2 items-center my-4;
            }
            .animation-step {
                @apply bg-gray-100 p-3 rounded-lg mb-4;
            }
            .animation-progress {
                @apply w-full bg-gray-200 rounded-full h-2.5 mb-2;
            }
            .animation-progress-bar {
                @apply bg-function h-2.5 rounded-full transition-all duration-300;
            }
            .animation-status {
                @apply text-sm text-gray-600 my-2 p-2 bg-gray-50 rounded;
            }
            .code-line {
                @apply transition-all duration-300;
            }
            .code-line-highlight {
                @apply bg-execution/30 text-gray-900 font-medium;
            }
        }
    </style>
</head>
<body class="bg-darkbg text-gray-800 font-sans min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <i class="fa fa-code text-primary text-3xl"></i>
                <h1 class="site-title">姚老师信奥网</h1>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#" class="nav-item">首页</a>
                <a href="#" class="nav-item">课程</a>
                <a href="#" class="nav-item">题库</a>
                <a href="#" class="nav-item">关于我们</a>
            </div>
            <div class="flex items-center space-x-4">
                <!-- 搜索框 -->
                <div class="relative hidden md:block">
                    <input type="text" id="search-input" placeholder="搜索算法、数据结构..." class="pl-10 pr-4 py-2 rounded-md bg-darkbg border border-gray-200 focus:outline-none focus:border-primary text-gray-700 w-64">
                    <button id="search-button" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-primary">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
                <div class="md:hidden">
                    <button class="text-gray-700">
                        <i class="fa fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- 移动端搜索框 -->
        <div class="md:hidden px-4 pb-3">
            <div class="relative">
                <input type="text" id="mobile-search-input" placeholder="搜索算法、数据结构..." class="pl-10 pr-4 py-2 rounded-md bg-darkbg border border-gray-200 focus:outline-none focus:border-primary text-gray-700 w-full">
                <button id="mobile-search-button" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-primary">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 面包屑导航 -->
    <div class="bg-white border-b border-gray-200 py-2">
        <div class="container mx-auto px-4">
            <nav class="flex text-sm" aria-label="Breadcrumb">
                <ol class="inline-flex items-center space-x-1 md:space-x-3">
                    <li class="inline-flex items-center">
                        <a href="#" class="text-gray-600 hover:text-primary">
                            <i class="fa fa-home mr-1"></i>首页
                        </a>
                    </li>
                    <li>
                        <div class="flex items-center">
                            <i class="fa fa-angle-right mx-2 text-gray-400"></i>
                            <a href="#" class="text-gray-600 hover:text-primary">语法基础</a>
                        </div>
                    </li>
                    <li>
                        <div class="flex items-center">
                            <i class="fa fa-angle-right mx-2 text-gray-400"></i>
                            <a href="#" class="text-gray-600 hover:text-primary">函数与模块化</a>
                        </div>
                    </li>
                    <li aria-current="page">
                        <div class="flex items-center">
                            <i class="fa fa-angle-right mx-2 text-gray-400"></i>
                            <span class="text-function font-medium">函数定义</span>
                        </div>
                    </li>
                </ol>
            </nav>
        </div>
    </div>

    <!-- 主要内容区 -->
    <main class="container mx-auto px-4 py-8">
        <!-- 页面标题 -->
        <div class="function-bg rounded-lg p-6 mb-8">
            <div class="flex flex-col md:flex-row md:items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-function mb-2">函数定义</h1>
                    <p class="text-gray-700">
                        函数是C++程序的基本构建块，用于封装特定功能的代码块。本页面将详细讲解C++函数的定义、声明、参数传递、返回值以及函数的各种类型，
                        帮助NOIP竞赛学生掌握模块化程序设计的核心技能。
                    </p>
                </div>
                <div class="mt-4 md:mt-0">
                    <div class="flex space-x-3">
                        <a href="#concept" class="bg-function hover:bg-function/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                            <i class="fa fa-book mr-2"></i> 学习概念
                        </a>
                        <a href="#problems" class="bg-white border border-function text-function hover:bg-function/5 px-4 py-2 rounded-md transition-all flex items-center">
                            <i class="fa fa-list-alt mr-2"></i> 查看题目
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- 函数定义概述 -->
        <section id="concept" class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-function mb-6 flex items-center">
                <i class="fa fa-info-circle mr-2"></i> 函数定义概述
            </h2>
            <div class="space-y-4">
                <div>
                    <h3 class="text-xl font-semibold mb-3">什么是函数？</h3>
                    <p class="text-gray-700">
                        函数是一个完成特定任务的代码块，它可以接收输入参数，执行一系列操作，并返回一个结果。函数是C++中实现模块化程序设计的核心机制，
                        能够使代码更加清晰、易于维护和重用。
                    </p>
                    <div class="bg-gray-50 p-4 rounded-lg mt-3">
                        <h4 class="font-semibold mb-2">函数的主要作用：</h4>
                        <ul class="list-disc pl-5 space-y-2">
                            <li>将复杂问题分解为 smaller、更易管理的部分</li>
                            <li>避免代码重复，提高代码重用性</li>
                            <li>使程序结构更清晰，易于理解和维护</li>
                            <li>便于多人协作开发大型程序</li>
                            <li>方便代码的测试和调试</li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold mb-3">函数的基本结构</h3>
                    <p class="text-gray-700 mb-3">
                        C++函数的定义包括以下几个部分：
                    </p>
                    <pre class="code-block"><code class="language-cpp">返回值类型 函数名(参数列表) {
    // 函数体：实现特定功能的语句
    return 返回值; // 与返回值类型匹配
}</code></pre>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="bg-gray-50 p-3 rounded-lg">
                            <h4 class="font-semibold text-function">返回值类型</h4>
                            <p class="text-sm text-gray-700">
                                函数执行完毕后返回的数据类型，可以是基本数据类型(int, float等)，也可以是自定义类型。如果没有返回值，使用void。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded-lg">
                            <h4 class="font-semibold text-function">函数名</h4>
                            <p class="text-sm text-gray-700">
                                函数的标识符，遵循C++命名规则，应能反映函数的功能。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded-lg">
                            <h4 class="font-semibold text-function">参数列表</h4>
                            <p class="text-sm text-gray-700">
                                函数接收的输入，由逗号分隔的参数组成，每个参数包含类型和名称。无参数时为空或写void。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded-lg">
                            <h4 class="font-semibold text-function">函数体</h4>
                            <p class="text-sm text-gray-700">
                                用花括号{}括起来的语句块，实现函数的具体功能。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 函数调用动画演示 -->
        <section class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-function mb-6 flex items-center">
                <i class="fa fa-play-circle mr-2"></i> 函数调用过程演示
            </h2>
            
            <div class="space-y-6">
                <!-- 函数调用动画 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">函数调用与执行过程演示</h3>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="lg:col-span-1">
                            <p class="text-gray-700 mb-4">
                                下面的动画展示了函数从调用到返回的完整过程，包括参数传递、函数执行和返回值传递三个主要步骤。
                                示例展示一个计算两数之和的函数调用过程。
                            </p>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">输入两个整数:</label>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <input type="number" id="num1" value="5" min="1" max="100"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-function">
                                    </div>
                                    <div>
                                        <input type="number" id="num2" value="8" min="1" max="100"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-function">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex space-x-2">
                                <button id="function-run" class="bg-function hover:bg-function/90 text-white px-4 py-2 rounded-md transition-all flex items-center">
                                    <i class="fa fa-play mr-2"></i> 运行动画
                                </button>
                                <button id="function-reset" class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md transition-all flex items-center">
                                    <i class="fa fa-refresh mr-2"></i> 重置
                                </button>
                            </div>
                            
                            <div id="function-status" class="animation-status hidden">
                                状态: 等待开始
                            </div>
                        </div>
                        
                        <div class="lg:col-span-1">
                            <div class="bg-white border border-gray-200 rounded-lg p-4 h-64 overflow-y-auto" id="function-execution">
                                <div class="text-center text-gray-500 py-8">
                                    <i class="fa fa-arrow-down mb-2"></i>
                                    <p>点击"运行动画"开始演示</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-1">
                            <div class="bg-gray-800 text-gray-100 rounded-lg p-4 h-64 overflow-y-auto font-mono text-sm" id="function-code">
                                <div class="code-line" id="code-1">#include &lt;iostream&gt;</div>
                                <div class="code-line" id="code-2">using namespace std;</div>
                                <div class="code-line" id="code-3">&nbsp;</div>
                                <div class="code-line" id="code-4">// 函数定义</div>
                                <div class="code-line" id="code-5">int add(int a, int b) {</div>
                                <div class="code-line" id="code-6">&nbsp;&nbsp;return a + b;</div>
                                <div class="code-line" id="code-7">}</div>
                                <div class="code-line" id="code-8">&nbsp;</div>
                                <div class="code-line" id="code-9">int main() {</div>
                                <div class="code-line" id="code-10">&nbsp;&nbsp;int num1 = <span id="code-num1">5</span>;</div>
                                <div class="code-line" id="code-11">&nbsp;&nbsp;int num2 = <span id="code-num2">8</span>;</div>
                                <div class="code-line" id="code-12">&nbsp;&nbsp;int result;</div>
                                <div class="code-line" id="code-13">&nbsp;&nbsp;</div>
                                <div class="code-line" id="code-14">&nbsp;&nbsp;result = add(num1, num2);</div>
                                <div class="code-line" id="code-15">&nbsp;&nbsp;</div>
                                <div class="code-line" id="code-16">&nbsp;&nbsp;return 0;</div>
                                <div class="code-line" id="code-17">}</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 函数类型对比 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">不同类型的函数定义</h3>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white p-4 rounded-lg border border-gray-200">
                            <h4 class="font-semibold text-function mb-2">有参数有返回值</h4>
                            <pre class="code-block text-xs"><code class="language-cpp">// 计算两个整数的和
int add(int a, int b) {
    return a + b;
}

// 计算一个数的平方
float square(float x) {
    return x * x;
}</code></pre>
                            <p class="text-gray-700 text-sm mt-3">
                                最常用的函数类型，接收输入参数并返回计算结果。
                            </p>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200">
                            <h4 class="font-semibold text-function mb-2">无参数有返回值</h4>
                            <pre class="code-block text-xs"><code class="language-cpp">// 生成一个随机数
int getRandomNumber() {
    return rand() % 100;
}

// 获取当前系统时间
time_t getCurrentTime() {
    return time(NULL);
}</code></pre>
                            <p class="text-gray-700 text-sm mt-3">
                                不需要输入参数，但能返回一个结果，通常用于获取系统信息或状态。
                            </p>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200">
                            <h4 class="font-semibold text-function mb-2">有参数无返回值</h4>
                            <pre class="code-block text-xs"><code class="language-cpp">// 打印一个整数
void printNumber(int num) {
    cout << "Number: " << num << endl;
}

// 交换两个整数的值
void swap(int &a, int &b) {
    int temp = a;
    a = b;
    b = temp;
}</code></pre>
                            <p class="text-gray-700 text-sm mt-3">
                                接收参数进行处理，但不返回结果，通常用于输出操作或通过引用修改参数。
                            </p>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200">
                            <h4 class="font-semibold text-function mb-2">无参数无返回值</h4>
                            <pre class="code-block text-xs"><code class="language-cpp">// 打印欢迎信息
void printWelcomeMessage() {
    cout << "Welcome to the program!" << endl;
    cout << "------------------------" << endl;
}

// 清屏操作
void clearScreen() {
    system("cls"); // Windows系统
    // system("clear"); // Linux/Mac系统
}</code></pre>
                            <p class="text-gray-700 text-sm mt-3">
                                既不接收参数也不返回结果，通常用于执行固定操作，如打印信息或系统操作。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 函数参数与返回值 -->
        <section class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-function mb-6 flex items-center">
                <i class="fa fa-exchange mr-2"></i> 函数参数与返回值
            </h2>
            
            <div class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-lg mb-3">参数传递方式</h3>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold text-function mb-2">值传递</h4>
                            <pre class="code-block text-xs"><code class="language-cpp">// 值传递示例
void increment(int x) {
    x++; // 仅修改函数内部的副本
    cout << "函数内: " << x << endl;
}

int main() {
    int a = 5;
    increment(a); // 传递a的值
    cout << "函数外: " << a << endl; // a的值仍为5
    return 0;
}</code></pre>
                            <p class="text-gray-700 text-sm mt-2">
                                函数接收参数的副本，对参数的修改不会影响原始变量。
                            </p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-function mb-2">引用传递</h4>
                            <pre class="code-block text-xs"><code class="language-cpp">// 引用传递示例
void increment(int &x) { // &表示引用
    x++; // 直接修改原始变量
    cout << "函数内: " << x << endl;
}

int main() {
    int a = 5;
    increment(a); // 传递a的引用
    cout << "函数外: " << a << endl; // a的值变为6
    return 0;
}</code></pre>
                            <p class="text-gray-700 text-sm mt-2">
                                函数接收参数的引用（别名），对参数的修改会直接影响原始变量。
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-lg mb-3">函数返回值</h3>
                        <p class="text-gray-700 mb-3">
                            函数的返回值通过return语句实现，其类型必须与函数定义的返回值类型一致。
                        </p>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold text-function mb-2">基本类型返回值</h4>
                            <pre class="code-block text-xs"><code class="language-cpp">// 返回两个数中的最大值
int max(int a, int b) {
    if (a > b) {
        return a; // 返回int类型
    } else {
        return b; // 返回int类型
    }
}</code></pre>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-function mb-2">多返回值处理</h4>
                            <pre class="code-block text-xs"><code class="language-cpp">// 使用引用参数实现多返回值
void calculate(int a, int b, int &sum, int &product) {
    sum = a + b;
    product = a * b;
}

int main() {
    int x = 5, y = 3;
    int s, p;
    calculate(x, y, s, p);
    cout << "和: " << s << ", 积: " << p << endl;
    return 0;
}</code></pre>
                            <p class="text-gray-700 text-sm mt-2">
                                C++函数只能有一个返回值，要返回多个值可以使用引用参数或结构体。
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">函数声明与原型</h3>
                    <p class="text-gray-700 mb-3">
                        函数声明（原型）是对函数的说明，告诉编译器函数的名称、参数类型和返回值类型，以便在函数定义之前可以调用函数。
                    </p>
                    <pre class="code-block"><code class="language-cpp">#include <iostream>
using namespace std;

// 函数原型（声明）
int add(int a, int b); // 只需指定参数类型和返回值类型
void printResult(int result);

int main() {
    int x = 5, y = 3;
    int sum = add(x, y); // 在函数定义前调用
    printResult(sum);
    return 0;
}

// 函数定义
int add(int a, int b) {
    return a + b;
}

void printResult(int result) {
    cout << "结果是: " << result << endl;
}</code></pre>
                    <p class="text-gray-700 mt-3">
                        函数原型通常放在程序开头或头文件中，使编译器在编译时能够检查函数调用的正确性。
                    </p>
                </div>
            </div>
        </section>

        <!-- 函数代码示例 -->
        <section class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-function mb-6 flex items-center">
                <i class="fa fa-code mr-2"></i> 函数代码示例 (C++)
            </h2>
            
            <div class="space-y-6">
                <!-- 基础函数示例 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">1. 基础函数 - 判断素数</h3>
                    <p class="text-gray-700 mb-3">
                        定义一个函数判断一个数是否为素数，返回布尔值
                    </p>
                    
                    <pre class="code-block"><code class="language-cpp">#include <iostream>
#include <cmath>
using namespace std;

// 判断一个数是否为素数
bool isPrime(int num) {
    if (num <= 1) return false; // 小于等于1的数不是素数
    if (num == 2) return true;  // 2是素数
    if (num % 2 == 0) return false; // 偶数不是素数
    
    // 检查从3到sqrt(num)的奇数
    for (int i = 3; i <= sqrt(num); i += 2) {
        if (num % i == 0) {
            return false;
        }
    }
    return true;
}

int main() {
    int n;
    cout << "请输入一个整数: ";
    cin >> n;
    
    if (isPrime(n)) {
        cout << n << "是素数" << endl;
    } else {
        cout << n << "不是素数" << endl;
    }
    
    return 0;
}</code></pre>
                </div>
                
                <!-- 函数重载示例 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">2. 函数重载 - 计算面积</h3>
                    <p class="text-gray-700 mb-3">
                        使用函数重载实现计算不同形状的面积（圆、矩形、三角形）
                    </p>
                    
                    <pre class="code-block"><code class="language-cpp">#include <iostream>
#include <cmath>
using namespace std;

const double PI = 3.1415926535;

// 计算圆的面积
double calculateArea(double radius) {
    return PI * radius * radius;
}

// 计算矩形的面积
double calculateArea(double length, double width) {
    return length * width;
}

// 计算三角形的面积
double calculateArea(double base, double height, bool isTriangle) {
    return 0.5 * base * height;
}

int main() {
    cout << "圆的面积: " << calculateArea(5.0) << endl;
    cout << "矩形的面积: " << calculateArea(4.0, 6.0) << endl;
    cout << "三角形的面积: " << calculateArea(3.0, 4.0, true) << endl;
    
    return 0;
}</code></pre>
                </div>
                
                <!-- 递归函数示例 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">3. 递归函数 - 计算斐波那契数列</h3>
                    <p class="text-gray-700 mb-3">
                        使用递归函数计算斐波那契数列的第n项（F(1)=1, F(2)=1, F(n)=F(n-1)+F(n-2)）
                    </p>
                    
                    <pre class="code-block"><code class="language-cpp">#include <iostream>
using namespace std;

// 递归计算斐波那契数列
int fibonacci(int n) {
    // 基准情况
    if (n == 1 || n == 2) {
        return 1;
    }
    // 递归调用
    return fibonacci(n - 1) + fibonacci(n - 2);
}

// 非递归版本（效率更高）
int fibonacciIterative(int n) {
    if (n == 1 || n == 2) return 1;
    
    int a = 1, b = 1, c;
    for (int i = 3; i <= n; i++) {
        c = a + b;
        a = b;
        b = c;
    }
    return b;
}

int main() {
    int n;
    cout << "请输入项数: ";
    cin >> n;
    
    cout << "递归版本: 第" << n << "项是 " << fibonacci(n) << endl;
    cout << "迭代版本: 第" << n << "项是 " << fibonacciIterative(n) << endl;
    
    return 0;
}</code></pre>
                </div>
                
                <!-- 函数与数组示例 -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-3">4. 函数与数组 - 数组操作</h3>
                    <p class="text-gray-700 mb-3">
                        定义函数对数组进行常见操作：求最大值、求和、排序
                    </p>
                    
                    <pre class="code-block"><code class="language-cpp">#include <iostream>
using namespace std;

// 求数组最大值
int findMax(int arr[], int size) {
    int maxVal = arr[0];
    for (int i = 1; i < size; i++) {
        if (arr[i] > maxVal) {
            maxVal = arr[i];
        }
    }
    return maxVal;
}

// 求数组元素和
int calculateSum(int arr[], int size) {
    int sum = 0;
    for (int i = 0; i < size; i++) {
        sum += arr[i];
    }
    return sum;
}

// 数组排序（冒泡排序）
void sortArray(int arr[], int size) {
    for (int i = 0; i < size - 1; i++) {
        for (int j = 0; j < size - i - 1; j++) {
            if (arr[j] > arr[j + 1]) {
                // 交换元素
                int temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
        }
    }
}

// 打印数组
void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        cout << arr[i] << " ";
    }
    cout << endl;
}

int main() {
    int numbers[] = {5, 2, 9, 1, 5, 6};
    int size = sizeof(numbers) / sizeof(numbers[0]);
    
    cout << "数组元素: ";
    printArray(numbers, size);
    
    cout << "最大值: " << findMax(numbers, size) << endl;
    cout << "元素和: " << calculateSum(numbers, size) << endl;
    
    sortArray(numbers, size);
    cout << "排序后: ";
    printArray(numbers, size);
    
    return 0;
}</code></pre>
                </div>
            </div>
        </section>

        <!-- 函数算法应用 -->
        <section class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-function mb-6 flex items-center">
                <i class="fa fa-lightbulb-o mr-2"></i> 函数的算法应用
            </h2>
            
            <div class="space-y-6">
                <div>
                    <h3 class="text-xl font-semibold mb-3">函数在算法中的典型应用</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-function mb-2">算法模块化</h4>
                            <p class="text-gray-700">
                                将复杂算法分解为多个函数，每个函数实现一个子功能，使算法结构清晰，易于理解和维护。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-function mb-2">递归算法</h4>
                            <p class="text-gray-700">
                                许多递归算法（如分治算法、回溯法）依赖函数自我调用来解决问题，如斐波那契数列、汉诺塔问题等。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-function mb-2">工具函数库</h4>
                            <p class="text-gray-700">
                                创建常用工具函数库（如排序、查找、数学计算等），在不同程序中重用，提高开发效率。
                            </p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-function mb-2">回调机制</h4>
                            <p class="text-gray-700">
                                高级应用中使用函数指针实现回调机制，允许将函数作为参数传递，增强程序的灵活性。
                            </p>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold mb-3">函数使用的注意事项</h3>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>函数命名</strong>：函数名应清晰反映其功能，遵循一致的命名规范</li>
                        <li><strong>函数大小</strong>：单个函数不宜过大，通常不超过50行代码，保持功能单一</li>
                        <li><strong>参数数量</strong>：函数参数不宜过多，过多参数表明函数可能承担了过多职责</li>
                        <li><strong>函数声明</strong>：确保函数声明与定义一致，包括参数类型和返回值类型</li>
                        <li><strong>递归深度</strong>：递归函数要注意控制递归深度，避免栈溢出</li>
                        <li><strong>副作用</strong>：尽量避免函数产生意外副作用，如修改全局变量或引用参数</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 洛谷推荐题目 -->
        <section id="problems" class="topic-card mb-8">
            <h2 class="text-2xl font-bold text-function mb-6 flex items-center">
                <i class="fa fa-puzzle-piece mr-2"></i> 洛谷推荐题目
            </h2>
            
            <div class="space-y-6">
                <div>
                    <h3 class="text-xl font-semibold mb-3">入门题</h3>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">P5731 【深基5.习6】蛇形方阵</h4>
                        <p class="text-gray-700 mb-3">
                            给出一个不大于9的正整数n，输出n×n的蛇形方阵。从1开始，由右上角到左下角依次填写。
                        </p>
                        <div class="flex space-x-3 mt-3">
                            <a href="https://www.luogu.com.cn/problem/P5731" target="_blank" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-all flex items-center">
                                <i class="fa fa-external-link mr-2"></i> 题目链接
                            </a>
                            <a href="#" class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md transition-all flex items-center">
                                <i class="fa fa-code mr-2"></i> 题解代码
                            </a>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold mb-3">基础题</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">P1028 数的计算</h4>
                            <p class="text-gray-700 text-sm mb-3">
                                我们要求找出具有下列性质数的个数(包含输入的自然数n)：
                                先输入一个自然数n(n≤1000)，然后对此自然数按照如下方法进行处理：
                                1. 不作任何处理；
                                2. 在它的左边加上一个自然数，但该自然数不能超过原数的一半；
                                3. 加上数后，继续按此规则进行处理，直到不能再加自然数为止。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P1028" target="_blank" class="text-primary hover:text-primary/80 text-sm flex items-center">
                                <i class="fa fa-external-link mr-1"></i> 查看题目
                            </a>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">P1420 最长连号</h4>
                            <p class="text-gray-700 text-sm mb-3">
                                输入n个正整数，要求输出最长的连号的长度。连号指从小到大连续自然数。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P1420" target="_blank" class="text-primary hover:text-primary/80 text-sm flex items-center">
                                <i class="fa fa-external-link mr-1"></i> 查看题目
                            </a>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold mb-3">进阶题</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">P1217 [USACO1.5] 回文质数 Prime Palindromes</h4>
                            <p class="text-gray-700 text-sm mb-3">
                                因为151既是一个质数又是一个回文数(从左到右和从右到左是看一样的)，所以 151 是回文质数。
                                编写一个程序来找出范围[a,b] (5 ≤ a < b ≤ 100,000,000)间的所有回文质数。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P1217" target="_blank" class="text-primary hover:text-primary/80 text-sm flex items-center">
                                <i class="fa fa-external-link mr-1"></i> 查看题目
                            </a>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">P1015 [NOIP1999 普及组] 回文数</h4>
                            <p class="text-gray-700 text-sm mb-3">
                                若一个数（首位不为零）从左向右读与从右向左读都一样，我们就将其称之为回文数。
                                例如：给定一个10进制数56，将56加65（即把56从右向左读），得到121是一个回文数。
                                又如：对于10进制数87：87+78=165，165+561=726，726+627=1353，1353+3531=4884。
                                在这里的一步是指进行了一次N进制的加法，上例最少用了4步得到回文数4884。
                            </p>
                            <a href="https://www.luogu.com.cn/problem/P1015" target="_blank" class="text-primary hover:text-primary/80 text-sm flex items-center">
                                <i class="fa fa-external-link mr-1"></i> 查看题目
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // 初始化代码高亮
        document.addEventListener('DOMContentLoaded', function() {
            hljs.highlightAll();
            
            // 更新代码中的数字以匹配输入框
            document.getElementById('num1').addEventListener('input', function() {
                document.getElementById('code-num1').textContent = this.value;
            });
            
            document.getElementById('num2').addEventListener('input', function() {
                document.getElementById('code-num2').textContent = this.value;
            });
            
            // 清除所有代码行高亮
            function clearCodeHighlights() {
                for (let i = 1; i <= 17; i++) {
                    document.getElementById(`code-${i}`).classList.remove('code-line-highlight');
                }
            }
            
            // 运行函数调用动画
            document.getElementById('function-run').addEventListener('click', function() {
                const num1 = parseInt(document.getElementById('num1').value);
                const num2 = parseInt(document.getElementById('num2').value);
                const executionDiv = document.getElementById('function-execution');
                const statusDiv = document.getElementById('function-status');
                
                // 重置状态
                executionDiv.innerHTML = '';
                statusDiv.classList.remove('hidden');
                clearCodeHighlights();
                
                // 更新状态
                statusDiv.textContent = '状态: 开始函数调用过程';
                
                let step = 1;
                const sum = num1 + num2;
                
                // 创建主程序开始步骤
                const startStep = document.createElement('div');
                startStep.className = 'function-call';
                startStep.innerHTML = `<strong>步骤 ${step++}:</strong> 主程序初始化变量`;
                executionDiv.appendChild(startStep);
                
                // 高亮显示变量初始化代码
                clearCodeHighlights();
                document.getElementById('code-10').classList.add('code-line-highlight');
                document.getElementById('code-11').classList.add('code-line-highlight');
                document.getElementById('code-12').classList.add('code-line-highlight');
                
                // 延迟执行步骤
                let delay = 1000;
                
                // 调用函数步骤
                setTimeout(() => {
                    const callStep = document.createElement('div');
                    callStep.className = 'function-call';
                    callStep.innerHTML = `<strong>步骤 ${step++}:</strong> 调用add(${num1}, ${num2})函数`;
                    executionDiv.appendChild(callStep);
                    callStep.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    
                    // 高亮显示函数调用代码
                    clearCodeHighlights();
                    document.getElementById('code-14').classList.add('code-line-highlight');
                    
                    // 参数传递步骤
                    setTimeout(() => {
                        const paramStep = document.createElement('div');
                        paramStep.className = 'function-call';
                        paramStep.innerHTML = `<strong>步骤 ${step++}:</strong> 传递参数，将${num1}赋值给a，${num2}赋值给b`;
                        executionDiv.appendChild(paramStep);
                        paramStep.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                        
                        // 高亮显示函数参数代码
                        clearCodeHighlights();
                        document.getElementById('code-5').classList.add('code-line-highlight');
                        
                        // 函数执行步骤
                        setTimeout(() => {
                            const execStep = document.createElement('div');
                            execStep.className = 'function-call function-call-active';
                            execStep.innerHTML = `<strong>步骤 ${step++}:</strong> 执行函数体，计算 a + b = ${num1} + ${num2} = ${sum}`;
                            executionDiv.appendChild(execStep);
                            execStep.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            
                            // 高亮显示函数执行代码
                            clearCodeHighlights();
                            document.getElementById('code-6').classList.add('code-line-highlight');
                            
                            // 返回结果步骤
                            setTimeout(() => {
                                execStep.classList.remove('function-call-active');
                                
                                const returnStep = document.createElement('div');
                                returnStep.className = 'function-call';
                                returnStep.innerHTML = `<strong>步骤 ${step++}:</strong> 函数返回结果 ${sum}`;
                                executionDiv.appendChild(returnStep);
                                returnStep.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                                
                                // 高亮显示函数返回代码
                                clearCodeHighlights();
                                document.getElementById('code-6').classList.add('code-line-highlight');
                                
                                // 主程序继续步骤
                                setTimeout(() => {
                                    const finishStep = document.createElement('div');
                                    finishStep.className = 'function-call bg-green-50 border-green-300 mt-2';
                                    finishStep.innerHTML = `<strong>步骤 ${step++}:</strong> 主程序接收结果，add(${num1}, ${num2}) = ${sum}`;
                                    executionDiv.appendChild(finishStep);
                                    finishStep.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                                    
                                    // 高亮显示主程序完成代码
                                    clearCodeHighlights();
                                    document.getElementById('code-14').classList.add('code-line-highlight');
                                    document.getElementById('code-16').classList.add('code-line-highlight');
                                    
                                    statusDiv.textContent = `状态: 函数调用完成，结果为 ${sum}`;
                                }, 1500);
                            }, 1500);
                        }, 1000);
                    }, delay);
                }, delay);
            });
            
            // 重置函数调用动画
            document.getElementById('function-reset').addEventListener('click', function() {
                const executionDiv = document.getElementById('function-execution');
                const statusDiv = document.getElementById('function-status');
                
                executionDiv.innerHTML = `
                    <div class="text-center text-gray-500 py-8">
                        <i class="fa fa-arrow-down mb-2"></i>
                        <p>点击"运行动画"开始演示</p>
                    </div>
                `;
                statusDiv.classList.add('hidden');
                clearCodeHighlights();
            });
        });
    </script>
</body>
</html>
